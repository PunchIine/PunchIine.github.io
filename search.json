[{"title":"DCGAN","url":"/2022/05/11/DCGAN/","content":"æ¨¡å‹ç»“æ„\nCNNçš„æ”¹è¿›æ–¹æ¡ˆ\n\nåˆ¤åˆ«å™¨ä¸­æ‰€æœ‰çš„poolingå±‚ä½¿ç”¨strideå·ç§¯è¿›è¡Œæ›¿æ¢ï¼ˆä½¿ç”¨å…¨å·ç§¯ç½‘ç»œï¼‰è¿™ç§æ›¿ä»£åªéœ€è¦å°†å·ç§¯çš„æ­¥é•¿strideè®¾ç½®ä¸ºå¤§äº1çš„æ•°å€¼ã€‚æ”¹è¿›çš„æ„ä¹‰æ˜¯ä¸‹é‡‡æ ·è¿‡ç¨‹ä¸å†æ˜¯å›ºå®šçš„æŠ›å¼ƒæŸäº›ä½ç½®çš„åƒç´ å€¼ï¼Œè€Œæ˜¯å¯ä»¥è®©ç½‘ç»œè‡ªå·±å»å­¦ä¹ ä¸‹é‡‡æ ·æ–¹å¼ã€‚\nç”Ÿæˆå™¨ä¸­æ‰€æœ‰çš„poolingå±‚ä½¿ç”¨fractional-stridedå·ç§¯è¿›è¡Œæ›¿æ¢\né™¤äº†ç”Ÿæˆå™¨æ¨¡å‹çš„è¾“å‡ºå±‚å’Œåˆ¤åˆ«å™¨æ¨¡å‹çš„è¾“å…¥å±‚ï¼Œåœ¨ç½‘ç»œå…¶å®ƒå±‚ä¸Šéƒ½ä½¿ç”¨äº†Batch Normalizationï¼Œä½¿ç”¨BNå±‚å¯ä»¥ç¨³å®šå­¦ä¹ ï¼Œæœ‰åŠ©äºå¤„ç†åˆå§‹åŒ–ä¸è‰¯å¯¼è‡´çš„è®­ç»ƒé—®é¢˜ã€‚\nç§»é™¤å…¨è¿æ¥çš„éšè—å±‚ï¼Œè®©ç½‘ç»œå¯ä»¥æ›´æ·±\nåœ¨ç”Ÿæˆå™¨ä¸Šï¼Œé™¤äº†è¾“å‡ºå±‚ä½¿ç”¨Tanhå¤–ï¼ˆReLUå‡½æ•°çš„è¾“å‡ºå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè€Œtanhå‡½æ•°çš„è¾“å‡ºæ˜¯åœ¨-1ï½1ä¹‹é—´çš„ï¼Œåªè¦å°†tanhå‡½æ•°çš„è¾“å‡ºåŠ 1å†ä¹˜ä»¥127.5å¯ä»¥å¾—åˆ°0ï½255 çš„åƒç´ å€¼ï¼‰ï¼Œå…¶ä»–æ‰€æœ‰å±‚çš„æ¿€æ´»å‡½æ•°éƒ½ä½¿ç”¨äº†ReLU\nåˆ¤åˆ«å™¨æ‰€æœ‰å±‚çš„æ¿€æ´»å‡½æ•°éƒ½ä½¿ç”¨LeakyReLU\nä¼˜åŒ–å™¨ä½¿ç”¨Adam\n\nDCGANçš„ä¸€äº›æˆåŠŸä¹‹å¤„æœ‰æ•ˆå‡è½»äº†GANçš„overfittingé—®é¢˜\nä½œè€…åœ¨LSUNä¸Šè®­ç»ƒäº†ä¸€ä¸ª3072-128-3072çš„å»å™ªè‡ªç¼–ç å™¨ï¼Œç”¨å®ƒä»å›¾åƒä¸­æå–128ç»´ç‰¹å¾ï¼Œåœ¨ç»è¿‡ReLUå±‚æ¿€æ´»åä½œä¸ºå›¾åƒçš„è¯­ä¹‰hashå€¼ï¼Œå¹¶å¯¹ç”Ÿæˆå›¾åƒå’Œè®­ç»ƒé›†ä½¿ç”¨æ­¤ç¼–ç å™¨æå–128ç»´çš„è¯­ä¹‰hashå€¼ï¼Œè¿›è¡Œé‡å¤æ€§æ£€æµ‹\nåœ¨å¤§å°çº¦300ä¸‡çš„LSUNæ•°æ®é›†ä¸­æ£€æµ‹åˆ°äº†27.5ä¸‡å·¦å³çš„é‡å¤æ•°æ®ï¼Œå¬å›ç‡è¾ƒé«˜ã€‚\næ— ç›‘ç£è¡¨å¾å­¦ä¹ \né€šè¿‡DCGANå¾—åˆ°çš„image feature mapså…·æœ‰è‰¯å¥½çš„é€šç”¨æ€§å’Œæ³›åŒ–èƒ½åŠ›ã€‚\nåœ¨Imagenet-1kä¸Šè®­ç»ƒDCGAN\nä½¿ç”¨åˆ¤åˆ«å™¨æ‰€æœ‰å±‚çš„å·ç§¯ç‰¹å¾ï¼Œåˆ†åˆ«ç»è¿‡æœ€å¤§æ± åŒ–å±‚ï¼Œåœ¨æ¯ä¸€å±‚ä¸Šå¾—åˆ°ä¸€ä¸ªç©ºé—´å°ºå¯¸ä¸º4*4çš„ç‰¹å¾ï¼Œå†æŠŠè¿™äº›ç‰¹å¾åšflattenedå’Œconcatenatedï¼Œæœ€ç»ˆå¾—åˆ°28672ç»´çš„å‘é‡è¡¨ç¤ºã€‚\nä½¿ç”¨ä¸€ä¸ªL2æ­£åˆ™åŒ–çš„svmåˆ†ç±»å™¨è¿›è¡Œåˆ†ç±»ï¼ŒåŸºäºè¿™äº›ç‰¹å¾å‘é‡å’Œç±»åˆ«labelè¿›è¡Œæœ‰ç›‘ç£è®­ç»ƒ\nå°†å›¾åƒçš„å„ç§é«˜ç»´åº¦ä¿¡æ¯è¿›è¡Œè¡¨å¾\nä»£ç å®ç°ç”Ÿæˆå™¨å®ç°ï¼š\nclass Generator(nn.Module):    def __init__(self):        super(Generator, self).__init__()        self.init_size = opt.img_size // 4        self.l1 = nn.Sequential(nn.Linear(opt.latent_dim, 128 * self.init_size ** 2))        self.conv_blocks = nn.Sequential(            nn.BatchNorm2d(128),            nn.Upsample(scale_factor=2),            nn.Conv2d(128, 128, 3, stride=1, padding=1),            nn.BatchNorm2d(128, 0.8),            nn.LeakyReLU(0.2, inplace=True),            nn.Upsample(scale_factor=2),            nn.Conv2d(128, 64, 3, stride=1, padding=1),            nn.BatchNorm2d(64, 0.8),            nn.LeakyReLU(0.2, inplace=True),            nn.Conv2d(64, opt.channels, 3, stride=1, padding=1),            nn.Tanh(),        )    def forward(self, z):        out = self.l1(z)        out = out.view(out.shape[0], 128, self.init_size, self.init_size)        img = self.conv_blocks(out)        return img\nåˆ¤åˆ«å™¨å®ç°ï¼š\nclass Discriminator(nn.Module):    def __init__(self):        super(Discriminator, self).__init__()        def discriminator_block(in_filters, out_filters, bn=True):            block = [nn.Conv2d(in_filters, out_filters, 3, 2, 1), nn.LeakyReLU(0.2, inplace=True), nn.Dropout2d(0.25)]            if bn:                block.append(nn.BatchNorm2d(out_filters, 0.8))            return block        self.model = nn.Sequential(            *discriminator_block(opt.channels, 16, bn=False),            *discriminator_block(16, 32),            *discriminator_block(32, 64),            *discriminator_block(64, 128),        )        # The height and width of downsampled image        ds_size = opt.img_size // 2 ** 4        self.adv_layer = nn.Sequential(nn.Linear(128 * ds_size ** 2, 1), nn.Sigmoid())    def forward(self, img):        out = self.model(img)        out = out.view(out.shape[0], -1)        validity = self.adv_layer(out)        return validity\n"},{"title":"Generative Adversarial Networks","url":"/2022/04/30/Generative%20Adversarial%20Networks/","content":"æµ…å­¦ä¸€äº›æ•°å­¦çŸ¥è¯†ä¿¡æ¯é‡åœ¨ä¿¡æ¯è®ºå½“ä¸­ï¼Œæˆ‘ä»¬ç”¨ä¸€ä»¶äº‹æƒ…å‘ç”Ÿçš„æ¦‚ç‡çš„è´Ÿå¯¹æ•°è¡¨ç¤ºä¿¡æ¯é‡ã€‚\n\nH=-\\log{p}å¦‚å…¬å¼æ‰€ç¤ºï¼Œä¹Ÿå°±æ˜¯äº‹æƒ…å‘ç”Ÿçš„æ¦‚ç‡è¶Šå¤§ï¼Œå…¶åŒ…å«çš„ä¿¡æ¯é‡å°±è¶Šå°ï¼Œåä¹‹äº¦ç„¶ã€‚\nä¿¡æ¯ç†µä¿¡æ¯ç†µï¼Œä¹Ÿæ˜¯å¹³å‡è‡ªä¿¡æ¯é‡ï¼Œå¦‚å…¬å¼æ‰€ç¤ºï¼Œè¡¨ç¤ºçš„æ˜¯è‡ªä¿¡æ¯é‡(ä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„ä¿¡æ¯é‡)çš„æ•°å­¦æœŸæœ›ï¼Œè¡¨ç¤ºä¸ºæ¦‚ç‡ä¸å…¶è‡ªä¿¡æ¯é‡çš„ä¹˜ç§¯ç„¶åå†æ±‚å’Œã€‚\n\nH(X)=-\\sum_{x\\in{X} }p(x)\\log{p(x)}äº¤å‰ç†µ\näº¤å‰ç†µåˆ»ç”»çš„æ˜¯å®é™…è¾“å‡ºï¼ˆæ¦‚ç‡ï¼‰ä¸æœŸæœ›è¾“å‡ºï¼ˆæ¦‚ç‡ï¼‰çš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯äº¤å‰ç†µçš„å€¼è¶Šå°ï¼Œä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒå°±è¶Šæ¥è¿‘ï¼Œå³æ‹Ÿåˆçš„æ›´å¥½ã€‚\n\näº¤å‰ç†µå…¶å®å°±æ˜¯å¯¹äºä¸€ä¸ªåˆ†å¸ƒpæ¥è¯´ï¼Œæˆ‘ä»¬ç”¨åˆ†å¸ƒqæ¥å¯¹åˆ†å¸ƒpä¸­çš„ä¿¡æ¯è¿›è¡Œç¼–ç ï¼Œæ‰€éœ€è¦çš„ä¿¡æ¯é‡ã€‚\nå¦‚æœäº¤å‰ç†µè¶Šå°ï¼Œè¯´æ˜ç”¨åˆ†å¸ƒqæ¥è¡¨ç¤ºåˆ†å¸ƒpæ‰€éœ€è¦çš„ä¿¡æ¯é‡è¶Šå°ï¼Œè¿™ä¹Ÿå°±è¯´æ˜qåˆ†å¸ƒè¶Šæ¥è¿‘påˆ†å¸ƒã€‚\n\nH(p,q)=-\\sum_xp(x)\\log{q(x)}KLæ•£åº¦ï¼ˆç›¸å¯¹ç†µï¼‰\næè¿°ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒä¹‹é—´å·®å¼‚çš„éå¯¹ç§°é‡\nå…¶å®šä¹‰å°±æ˜¯ç”¨ç†è®ºåˆ†å¸ƒå»æ‹ŸåˆçœŸå®åˆ†å¸ƒæ—¶äº§ç”Ÿçš„ä¿¡æ¯æŸè€—\n\nè‹¥æœ‰ä¸¤ä¸ªéšæœºå˜é‡p, qï¼Œä¸”å…¶æ¦‚ç‡åˆ†å¸ƒåˆ†åˆ«ä¸ºp(x)ã€q(x)ï¼Œåˆ™pç›¸å¯¹qçš„ç›¸å¯¹ç†µä¸ºï¼š\n\nD_{KL}(p||q)=\\sum_{x}p(x)\\log\\frac{p(x)}{q(x)}åˆç”±å®šä¹‰å¯çŸ¥ï¼šKLæ•£åº¦ = äº¤å‰ç†µ - ä¿¡æ¯ç†µ\nå› æ­¤ï¼ŒKLæ•£åº¦å¯é€šè¿‡ä¸‹å¼å¾—å‡ºï¼š\n\n\\begin{aligned}D_{KL}(p||q)&=H(p,q)-H(p)\\\\\n&=-\\sum_xp(x)(\\log{q(x)}-\\log{p(x)})\\\\\n&=-\\sum_x{p(x)\\log{\\frac{q(x)}{p(x)}}}\\\\\\\\\n&\\iff{E_{x\\backsim{p}}(\\log{p(x)}-\\log{q(x)}})\\end{aligned}æ­£å®šæ€§\nç›¸å¯¹ç†µçš„å€¼æ˜¯éè´Ÿå€¼ï¼Œå³D(P||Q)&gt;0ã€‚\nä¸å¯¹ç§°æ€§\nå°½ç®¡KLæ•£åº¦ä»ç›´è§‚ä¸Šæ˜¯ä¸ªåº¦é‡æˆ–è·ç¦»å‡½æ•°ï¼Œä½†å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„åº¦é‡æˆ–è€…è·ç¦»ï¼Œå› ä¸ºå®ƒä¸å…·æœ‰å¯¹ç§°æ€§ï¼Œå³D(P||Q)!=D(Q||P)ã€‚\nJSæ•£åº¦\nç”±äºKLæ•£åº¦çš„ä¸å¯¹ç§°æ€§ï¼Œæ‰€ä»¥è¿™é‡Œå¼•å…¥äº†ä¸€ä¸ªJSæ•£åº¦ï¼Œä¹Ÿå°±æ˜¯Jensen-Shannonæ•£åº¦ï¼ŒJSæ•£åº¦åº¦é‡äº†ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒçš„ç›¸ä¼¼åº¦ï¼ŒåŸºäºKLæ•£åº¦çš„å˜ä½“ï¼Œè§£å†³äº†KLæ•£åº¦éå¯¹ç§°çš„é—®é¢˜ï¼Œä¸€èˆ¬åœ°ï¼ŒJSæ•£åº¦æ˜¯å¯¹ç§°çš„\n\nå…¬å¼å¦‚ä¸‹\n\nJS(p||q)=\\frac{1}{2}KL(p(x)||\\frac{p(x)+q(x)}{2}+\\frac{1}{2}KL(q(x)||\\frac{p(x)+q(x)}{2})\næ¡ä»¶æ¦‚ç‡\næ¡ä»¶æ¦‚ç‡æ˜¯æŒ‡äº‹ä»¶Aåœ¨å¦å¤–ä¸€ä¸ªäº‹ä»¶Bå·²ç»å‘ç”Ÿæ¡ä»¶ä¸‹çš„å‘ç”Ÿæ¦‚ç‡ã€‚ æ¡ä»¶æ¦‚ç‡è¡¨ç¤ºä¸ºï¼šPï¼ˆA|Bï¼‰ï¼Œè¯»ä½œâ€åœ¨Bçš„æ¡ä»¶ä¸‹Açš„æ¦‚ç‡â€ã€‚ æ¡ä»¶æ¦‚ç‡å¯ä»¥ç”¨å†³ç­–æ ‘è¿›è¡Œè®¡ç®—ã€‚\n\n\nP(B|A)=\\frac{P(AB)}{P(A)}å…¨æ¦‚ç‡å…¬å¼å¯¹äºä¸€ä¸ªè¾ƒä¸ºå¤æ‚çš„äº‹ä»¶Aï¼Œæ‰¾åˆ°å…¶å®Œå¤‡äº‹ä»¶ç»„B1ã€B2ã€B3â€¦â€¦åˆ™å¯å¾—ï¼š\n\nP(A)=P(AB_1)+P(AB_2)+...+P(AB_n)åˆæ ¹æ®æ¡ä»¶æ¦‚ç‡å…¬å¼ï¼š\n\nP(A)=P(A|B_1)P(B_1)+P(A|B_2)P(B_2)+...+P(A|B_n)P(B_n)åˆ™å¯è¯å¾—å…¨æ¦‚ç‡å…¬å¼å¦‚ä¸‹ï¼š\n\nP(A)=\\sum^n_{i=1}P(B_i)P(A|B_i)è´å¶æ–¯å…¬å¼\né€šå¸¸ï¼Œäº‹ä»¶ A åœ¨äº‹ä»¶ B å‘ç”Ÿçš„æ¡ä»¶ä¸‹ä¸äº‹ä»¶ B åœ¨äº‹ä»¶ A å‘ç”Ÿçš„æ¡ä»¶ä¸‹ï¼Œå®ƒä»¬ä¸¤è€…çš„æ¦‚ç‡å¹¶ä¸ç›¸åŒï¼Œä½†æ˜¯å®ƒä»¬ä¸¤è€…ä¹‹é—´å­˜åœ¨ä¸€å®šçš„ç›¸å…³æ€§ï¼Œå¹¶å…·æœ‰ä»¥ä¸‹å…¬å¼ï¼ˆç§°ä¹‹ä¸ºâ€œè´å¶æ–¯å…¬å¼â€ï¼‰\n\nåéªŒæ¦‚ç‡å°±æ˜¯äº‹ä»¶Aåœ¨å¦ä¸€ä¸ªäº‹ä»¶Bå·²ç»å‘ç”Ÿçš„æ¡ä»¶ä¸‹å‘ç”Ÿæ¦‚ç‡ï¼Œæ ¹æ®è§‚å¯Ÿåˆ°çš„æ ·æœ¬ä¿®æ­£ä¹‹åçš„æ¦‚ç‡å€¼ï¼Œå…¬å¼è¡¨ç¤ºä¸ºP(A|B)ã€‚\nè”åˆæ¦‚ç‡è¡¨ç¤ºä¸¤ä»¶äº‹æƒ…å…±åŒå‘ç”Ÿçš„æ¦‚ç‡ã€‚Aä¸Bçš„è”åˆæ¦‚ç‡è¡¨ç¤ºä¸ºp(AB)ã€‚\nå…ˆéªŒæ¦‚ç‡ï¼ˆè¾¹ç¼˜æ¦‚ç‡ï¼‰è¿™ä¸ªæ¦‚ç‡æ˜¯é€šè¿‡ç»Ÿè®¡å¾—åˆ°çš„ï¼Œæˆ–è€…ä¾æ®è‡ªèº«ä¾æ®ç»éªŒç»™å‡ºçš„ä¸€ä¸ªæ¦‚ç‡å€¼ï¼Œè¿™é‡ŒP(A)å°±æ˜¯å…ˆéªŒæ¦‚ç‡\n\nP (AB) = P (A)*P (B|A)=P (B)*P (A|B)\nP(A|B)=\\frac{P(B|A)P(A)}{P(B)}\nä¼¼ç„¶å‡½æ•°\næ¦‚ç‡æè¿°çš„æ˜¯åœ¨ä¸€å®šæ¡ä»¶ä¸‹æŸä¸ªäº‹ä»¶å‘ç”Ÿçš„å¯èƒ½æ€§ï¼Œæ¦‚ç‡è¶Šå¤§è¯´æ˜è¿™ä»¶äº‹æƒ…è¶Šå¯èƒ½ä¼šå‘ç”Ÿï¼›è€Œä¼¼ç„¶æè¿°çš„æ˜¯ç»“æœå·²çŸ¥çš„æƒ…å†µä¸‹ï¼Œè¯¥äº‹ä»¶åœ¨ä¸åŒæ¡ä»¶ä¸‹å‘ç”Ÿçš„å¯èƒ½æ€§ï¼Œä¼¼ç„¶å‡½æ•°çš„å€¼è¶Šå¤§è¯´æ˜è¯¥äº‹ä»¶åœ¨å¯¹åº”çš„æ¡ä»¶ä¸‹å‘ç”Ÿçš„å¯èƒ½æ€§è¶Šå¤§ã€‚\n\nè‹¥xå·²çŸ¥ï¼Œä¸ºå˜é‡ï¼Œåˆ™è¯¥å‡½æ•°ä¸ºä¼¼ç„¶å‡½æ•°     æè¿°å¯¹äºä¸åŒçš„æ¨¡å‹å‚æ•°ï¼Œxæ ·æœ¬ç‚¹å‡ºç°çš„æ¦‚ç‡\nè‹¥xä¸ºå˜é‡ï¼ŒæœªçŸ¥ï¼Œåˆ™è¯¥å‡½æ•°ä¸ºæ¦‚ç‡å‡½æ•°     æè¿°å¯¹äºå‚æ•°æ¨¡å‹,  ä¸åŒçš„æ ·æœ¬ç‚¹xå‡ºç°çš„æ¦‚ç‡ä¸ºå¤šå°‘\nå…¶ä¸­ï¼šxè¡¨ç¤ºæŸä¸€ä¸ªå…·ä½“çš„æ•°æ®ï¼ŒÎ¸ è¡¨ç¤ºæ¨¡å‹çš„å‚æ•°ã€‚\nä¼¼ç„¶å‡½æ•°å¯¹æ•°åŒ–\nå®é™…é—®é¢˜å¾€å¾€è¦æ¯”æŠ›ä¸€æ¬¡ç¡¬å¸å¤æ‚å¾—å¤šï¼Œä¼šæ¶‰åŠåˆ°å¤šä¸ªç‹¬ç«‹äº‹ä»¶ï¼Œåœ¨ä¼¼ç„¶å‡½æ•°çš„è¡¨è¾¾å¼ä¸­é€šå¸¸éƒ½ä¼šå‡ºç°è¿ä¹˜\nå¯¹å¤šé¡¹ä¹˜ç§¯çš„æ±‚å¯¼å¾€å¾€éå¸¸å¤æ‚ï¼Œä½†æ˜¯å¯¹äºå¤šé¡¹æ±‚å’Œçš„æ±‚å¯¼å´è¦ç®€å•çš„å¤šï¼Œå¯¹æ•°å‡½æ•°ä¸æ”¹å˜åŸå‡½æ•°çš„å•è°ƒæ€§å’Œæå€¼ä½ç½®ï¼Œè€Œä¸”æ ¹æ®å¯¹æ•°å‡½æ•°çš„æ€§è´¨å¯ä»¥å°†ä¹˜ç§¯è½¬æ¢ä¸ºåŠ å‡å¼ï¼Œè¿™å¯ä»¥å¤§å¤§ç®€åŒ–æ±‚å¯¼çš„è¿‡ç¨‹\næœ€å¤§ä¼¼ç„¶ä¼°è®¡\nåˆ©ç”¨å·²çŸ¥çš„æ ·æœ¬ç»“æœä¿¡æ¯ï¼Œåæ¨æœ€å…·æœ‰å¯èƒ½ï¼ˆæœ€å¤§æ¦‚ç‡ï¼‰å¯¼è‡´è¿™äº›æ ·æœ¬ç»“æœå‡ºç°çš„æ¨¡å‹å‚æ•°å€¼\n\nå½“å·²çŸ¥æ ·æœ¬æœä»æŸä¸€åˆ†å¸ƒæ—¶ï¼Œæˆ‘ä»¬æ ¹æ®è¿™ä¸€åˆ†å¸ƒæ±‚ä½¿ä¼¼ç„¶å‡½æ•°æœ€å¤§çš„æ¦‚ç‡åˆ†å¸ƒï¼Œåˆ™æ±‚å¾—æ¦‚ç‡åˆ†å¸ƒå°±æ˜¯æœ€å¤§ä¼¼ç„¶ä¼°è®¡å¾—ç»“æœ\nGenerative Adversarial Networksè®ºæ–‡é˜…è¯»\nâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ†’çœŸå®æ•°æ®ï¼ˆï¼‰â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ†’çœŸå®æ•°æ®çš„åˆ†å¸ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ†’å™ªéŸ³ï¼ˆè¾“å…¥æ•°æ®ï¼‰â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ†’åŸå§‹å™ªéŸ³çš„åˆ†å¸ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ†’ç»è¿‡ç”Ÿæˆå™¨åçš„æ•°æ®åˆ†å¸ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ†’ç”Ÿæˆæ˜ å°„å‡½æ•°â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ†’åˆ¤åˆ«æ˜ å°„å‡½æ•°\n\nå¯¹GANè®­ç»ƒè¿‡ç¨‹çš„ç†è§£\né‰´åˆ«å™¨å’Œç”Ÿæˆå™¨çš„æ ¹æœ¬ä»»åŠ¡åˆ†åˆ«æ˜¯ï¼šä½¿ç”¨é‰´åˆ«å™¨æ¥å­¦ä¹ è®­ç»ƒæ•°æ®é›†æ‰€æœä»çš„é«˜ç»´æ¦‚ç‡åˆ†å¸ƒï¼Œå¹¶èƒ½å¤Ÿç»™å‡ºä»»æ„ä¸€ä¸ªæ ·æœ¬æœä»è¯¥åˆ†å¸ƒçš„æ¦‚ç‡å€¼ï¼›ä½¿ç”¨ç”Ÿæˆå™¨ç”Ÿæˆéšæœºæ ·æœ¬ï¼Œå°†å…¶è¾“å…¥åˆ°é‰´åˆ«å™¨å†…æ¥è®¡ç®—æ¦‚ç‡ã€‚å¦‚æœå¾—åˆ°çš„æ¦‚ç‡è¶Šå¤§ï¼Œè¯´æ˜è¯¥æ ·æœ¬æ¥è‡ªè¯¥åˆ†å¸ƒçš„å¯èƒ½æ€§è¶Šé«˜ï¼Œè¿™æ„å‘³ç€ç”Ÿæˆçš„æ•°æ®ä¹Ÿè¶Šæ¥è¿‘é€¼çœŸã€‚ï¼ˆâ€”â€”æ¥è‡ªBreezeshane (github.com)](https://github.com/BreezeShane))ï¼‰\n\nå°†ç¬¦åˆæ­£æ€åˆ†å¸ƒçš„éšæœºå™ªå£°zè¾“å…¥ç”Ÿæˆå™¨ç”ŸæˆG(z)ï¼Œç»å¤„ç†åä¸çœŸå®æ•°æ®xä¸€èµ·äº¤äºˆåˆ¤åˆ«å™¨å¤„ç†ï¼Œåˆ¤åˆ«å™¨å°†G(z)æ˜¯å¦ä¸ºçœŸå®æ•°æ®å¹¶ç»™å‡ºä¸€ä¸ªæ¦‚ç‡å€¼D(G(z))ã€‚æˆ‘ä»¬çš„è®­ç»ƒç›®æ ‡æ˜¯ï¼šè®­ç»ƒåˆ¤åˆ«å™¨Dä½¿D(x)æœ€å¤§ï¼Œè€ŒD(G(z))æœ€å°ï¼Œè®­ç»ƒç”Ÿæˆå™¨Gä½¿D(G(z))æœ€å¤§ã€‚æˆ‘ä»¬çš„è®­ç»ƒç­–ç•¥æ˜¯å…ˆè®­ç»ƒkæ¬¡åˆ¤åˆ«å™¨Dä½¿ä¹‹å…·å¤‡ä¸€å®šçš„åˆ¤åˆ«èƒ½åŠ›ï¼ˆåœ¨è®ºæ–‡ä¸­kå–1ï¼‰ï¼Œä¹‹åè®­ç»ƒä¸€æ¬¡ç”Ÿæˆå™¨Gï¼Œå¦‚æ­¤è¿­ä»£è®­ç»ƒä»¥æ¥è¿‘å…¨å±€æœ€ä¼˜ã€‚\nåœ¨åˆšå¼€å§‹è®­ç»ƒçš„æ—¶å€™ï¼Œç”Ÿæˆå™¨Gç”Ÿæˆçš„æ•°æ®æ˜¾ç„¶ä¸çœŸå®æ•°æ®ç›¸å·®å¾ˆå¤§ï¼Œæ­¤æ—¶åˆ¤åˆ«å™¨Då°†ä»¥é«˜ç½®ä¿¡åº¦æ‹’ç»ç”Ÿæˆå™¨Gç”Ÿæˆçš„æ ·æœ¬ï¼Œè¿™å°†å¯¼è‡´é¥±å’Œï¼ˆå¾ˆå¤§ï¼‰ï¼Œæ‰€ä»¥é€‰æ‹©å…ˆå¯¹åˆ¤åˆ«å™¨è¿›è¡Œè®­ç»ƒã€‚\n\nç”±äºè®­ç»ƒå¼€å§‹æ—¶ï¼ŒGæ€§èƒ½è¾ƒå·®ï¼Œè¿™å°†ä½¿å¾—D(G(z))è¶‹è¿‘äº0ï¼Œè¿™å°†å¯¼è‡´çš„æ¢¯åº¦è¾ƒå°ï¼Œè€Œçš„æ¢¯åº¦è¾ƒå¤§ï¼Œå› æ­¤ï¼Œå°†Gçš„è®­ç»ƒç›®æ ‡æ”¹ä¸ºæœ€å¤§åŒ–åœ¨è®­ç»ƒåˆæœŸæä¾›äº†æ›´å¤§çš„æ¢¯åº¦    \nå¯ä»¥è¯´ç”Ÿæˆå¯¹æŠ—ç½‘ç»œè®­ç»ƒçš„è¿‡ç¨‹å°±æ˜¯ç”Ÿæˆå™¨Gä¸åˆ¤åˆ«å™¨Dè¿›è¡Œä¸€ä¸ªé›¶å’Œåšå¼ˆçš„è¿‡ç¨‹ï¼ŒGæ¬²ä½¿ç›®æ ‡å‡½æ•°æœ€å¤§åŒ–ï¼ŒDæ¬²ä½¿ç›®æ ‡å‡½æ•°æœ€å°åŒ–\n\n\\underset{G}{min}\\underset{D}{max}V(D,G)=E_{x\\backsim{p_{data}}}[\\log{D(x)}]+E_{z\\backsim{p_z(z)}}[\\log{1-D(G(z)))}] A less formal, more pedagogical explanation of the approach.\n\n\nè“çº¿ åˆ¤åˆ«åˆ†å¸ƒ \nçº¢çº¿ ç”Ÿæˆåˆ†å¸ƒ \né»‘çº¿ çœŸå®æ•°æ®åˆ†å¸ƒ \n\n\nThe generator nets used a mixture of rectififier linear activations and sigmoid activations, while the discriminator net used maxout activations. Dropout was applied in training the discriminator net. While our theoretical framework permits the use of dropout and other noise at intermediate layers of the generator, we used noise as the input to only the bottommost layer of the generator network.\n\nä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ç›®æ ‡å‡½æ•°ï¼Ÿä»ä¿¡æ¯è®ºï¼ˆKLæ•£åº¦ï¼‰çš„è§’åº¦æ¥çœ‹ ï¼ˆä¸ªäººç†è§£ï¼Œå­˜åœ¨è°¬è¯¯ï¼Œè¯·å¿½è§†ï¼‰æˆ‘ä»¬çŸ¥é“KLæ•£åº¦å¯ä»¥æè¿°ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„å·®å¼‚ç¨‹åº¦ï¼Œå³ç”¨ç†è®ºåˆ†å¸ƒå»æ‹ŸåˆçœŸå®åˆ†å¸ƒæ—¶äº§ç”Ÿçš„ä¿¡æ¯æŸè€—ã€‚æˆ‘ä»¬å¯ä»¥å°†ç”Ÿæˆå™¨Gçš„è®­ç»ƒè¿‡ç¨‹çœ‹ä½œæ˜¯ä»¤ç”Ÿæˆæ•°æ®çš„åˆ†å¸ƒä¸æ–­æ¥è¿‘ã€æ‹ŸåˆçœŸå®æ•°æ®åˆ†å¸ƒçš„è¿‡ç¨‹ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒçœ‹ä½œä¸€ä¸ªå°†äºŒè€…KLæ•£åº¦æœ€å°åŒ–çš„è¿‡ç¨‹ã€‚å†ç»“åˆGANçš„è®­ç»ƒè¿‡ç¨‹æ˜¯ç”Ÿæˆå™¨Gä¸åˆ¤åˆ«å™¨Dè¿›è¡Œé›¶å’Œåšå¼ˆçš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š                                                        \n\nç”±äºæœ¬äººæ˜¯ä¸ªèœç‹—ï¼Œä¸ªäººå¯¹è®ºæ–‡çš„ç†è§£ä¸åˆ°ä½ï¼Œåç»­åœ¨å­¦é•¿çš„æŒ‡å¯¼ä¸‹å‘ç°æ ‡**å¤„çš„ç­‰ä»·æœ‰äº›è®¸ç‰µå¼ºï¼Œå¹¶ä¸”GANé‡‡ç”¨çš„æ˜¯JSæ•£åº¦æ¥è¡¡é‡ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒä¹‹å‰çš„è·ç¦»ï¼Œæ­¤å¤„ä»¥KLæ•£åº¦æ¥ç†è§£ç›®æ ‡å‡½æ•°æœ‰äº›è®¸ä¸å¦¥å½“ï¼Œå› æ­¤ä»¥æœ€å¤§ä¼¼ç„¶ä¼°è®¡çš„è§’åº¦æ¥çœ‹ç›®æ ‡å‡½æ•°çš„è®¾è®¡æ˜¾å¾—æ›´ä¸ºåˆç†ã€‚\n\nâ€‹                                                                                                     \n\n\\begin{aligned}D_{KL}(p_{data}||p_{g})&=H(p_{data},p_g)-H(p_{data})\\\\\\\\\n&=-\\sum_xp_{data}(x)(\\log{p_g(x)}-\\log{p_{data}(x)})\\\\\n&=-\\sum_x{p_{data}(x)\\log{\\frac{p_g(x)}{p_{data}(x)}}}\\\\\\\\\n&\\iff{E_{x\\backsim{p_{data}}}(\\log{p_{data}(x)}-\\log{p_g(x)}})\\\\\\\\\n&=E_{x\\backsim{p_{data}}}(\\log{p_{data}(x)})-E_{x\\backsim{p_{data}}}(\\log{p_g}(x))\\\\\\\\\n&\\iff{E_{x\\backsim{p_{data}}}(\\log{D(x)})-E_{x\\backsim{p_{data}}}(\\log{D(G(x))})}\\\\\\\\\n&={E_{x\\backsim{p_{data}}}(\\log{D(x)})-E_{x\\backsim{p_{g}}}(\\log{D(x)})}\\\\\\\\\n&={E_{x\\backsim{p_{data}}}(\\log{D(x)})+E_{x\\backsim{p_{g}}}(\\log{\\frac{1}{D(x)}})}\\\\\\\\\n&\\iff{E_{x\\backsim{p_{data}}}(\\log{D(x)})+E_{x\\backsim{p_{g}}}(\\log({1-D(x))}) **}\\end{aligned}å¯çŸ¥ï¼Œç”Ÿæˆå™¨Gæƒ³è¦è¾¾åˆ°æœ€ä¼˜ï¼Œä¸å‰ä¸€é¡¹æ— å…³ï¼Œåªéœ€æœ€å°åŒ–åä¸€é¡¹ã€‚åˆ¤åˆ«å™¨Dæƒ³è¦è¾¾åˆ°æœ€ä¼˜ï¼Œåªéœ€æœ€å¤§åŒ–åˆ¤åˆ«çœŸå®æ•°æ®ä¸ºçœŸçš„æ¦‚ç‡ï¼Œæœ€å°åŒ–åˆ¤åˆ«ç”Ÿæˆæ•°æ®ä¸ºçœŸçš„æ¦‚ç‡ï¼Œå³æœ€å¤§åŒ–æ•´ä¸ªå‡½æ•°ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å¾—åˆ°ç›®æ ‡å‡½æ•°ï¼š\n\n\\underset{G}{min}\\underset{D}{max}V(D,G)=E_{x\\backsim{p_{data}}}[\\log{D(x)}]+E_{z\\backsim{p_z(z)}}[\\log{1-D(G(z)))}]ä»æœ€å¤§ä¼¼ç„¶ä¼°è®¡çš„è§’åº¦æ¥çœ‹\næœ€å¤§ä¼¼ç„¶ä¼°è®¡æ˜¯ä¸€ç§ç»Ÿè®¡æ–¹æ³•ï¼Œå®ƒç”¨æ¥æ±‚ä¸€ä¸ªæ ·æœ¬é›†çš„ç›¸å…³æ¦‚ç‡å¯†åº¦å‡½æ•°çš„å‚æ•°ã€‚\n\næ­¤å¤„åº”æœ‰è€å•çš„åšå®¢Generative Adversarial Networks | ğ•­ğ–—ğ–Šğ–Šğ–Ÿğ–Š ğ•¾ğ–ğ–†ğ–“ğ–Š ğ•­ğ–‘ğ–”ğ–Œ (breezeshane.github.io)\nç”±äºæˆ‘ä»¬å·²çŸ¥çš„æ•°æ®æ˜¯ç”Ÿæˆæ•°æ®çš„åˆ†å¸ƒä¸çœŸå®æ•°æ®çš„åˆ†å¸ƒï¼Œæƒ³è¦å¾—åˆ°çš„æ˜¯ä½¿ç”Ÿæˆå™¨æœ€ä¼˜çš„æ¨¡å‹æ¦‚ç‡å‚æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ä¸ªä¼¼ç„¶å‡½æ•°ï¼š\n\np_g(X_{i}|\\theta)å³å¯¹ä»»æ„ä¸€ä¸ªæ ·æœ¬ï¼Œå…¶ä¼¼ç„¶å‡½æ•°ä¸ºï¼š\n\nf_d(x)=[D_w(x)]^y[1-D_w(x)]^{1-y}å› æ­¤å–æ‰€æœ‰æ ·æœ¬å¯ä»¥å¾—åˆ°æ€»ä¼¼ç„¶å‡½æ•°ï¼š\n\nf_D(x)=\\prod^{n1}_{i=1}[D_w(x_{data})^i]\\prod^{n2}_{j=1}[1-D_w(x_g)]^jå…¶ä¸­n1è¡¨ç¤ºè®­ç»ƒæ•°æ®é›†çš„æ ·æœ¬å®¹é‡ï¼Œn2è¡¨ç¤ºç”Ÿæˆæ•°æ®é›†çš„æ ·æœ¬å®¹é‡ã€‚ä¸ºäº†ä¾¿äºè¿›è¡Œçº¿æ€§è¿ç®—æˆ‘ä»¬éœ€è¦åšç›¸åº”çš„å¤„ç†ï¼Œé¦–å…ˆå–å¯¹æ•°ï¼Œå°†ä¹˜æ³•è¿ç®—è½¬æ¢ä¸ºåŠ æ³•è¿ç®— ï¼Œå¾—åˆ°ï¼š\n\n\\begin{aligned}f_D^*(x)&=log\\{\\prod^{n1}_{i=1}[D_w(x_{data})]^i\\prod^{n2}_{j=1}[1-D_w(x_g)]^j\\}\\\\\n&=\\sum^{n1}_{i=1}log[D_w(x_{data})]^i+\\sum_{j=1}^{n2}log[1-D_w(x_g)]^j\\end{aligned}æ¥ç€æˆ‘ä»¬å°†æ€»ä¼¼ç„¶å‡½æ•°æœ€å¤§åŒ–å¾—åˆ°ï¼š\n\nf_D^{**}(x)=\\underset{w}{max}\\{\\sum^{n1}_{i=1}log[D_w(x_{data})]^i+\\sum_{j=1}^{n2}log[1-D_w(x_g)]^j\\}æœ€åæˆ‘ä»¬é€‰å–å…¶ç­‰ä»·å½¢å¼ï¼Œå°±å¯ä»¥å¾—åˆ°æœ€ç»ˆçš„ç›®æ ‡å‡½æ•°ï¼š\n\nf_D(x)=\\underset{w}{max}\\{E_{x\\backsim P_{data(x)}}log[D_w(x_{data})]^i+E_{x\\backsim P_{g(x)}}log[1-D_w(x_g)]^j\\}ä½•æ—¶è¾¾åˆ°å…¨å±€æœ€ä¼˜ï¼Ÿ\n\\begin{aligned}V(G,D)&=\\int_xp_{data}(x)\\log{(D(x))}dx+\\int_zp_z(z)\\log{(1-D(g(z)))}dz\\\\\\\\&=\\int_xp_{data(x)}\\log{(D(x))}+p_g(x)\\log{(1-D(x))dx}\\end{aligned}è¦è¯ä¸Šå¼ï¼Œåªéœ€è¯\n\nE_{z\\backsim{p_z(z)}}\\log{(1-D(G(z)))}=E_{x\\backsim{p_g(x)}}\\log{(1-D(x))}æ ¹æ®æµ‹åº¦è®ºä¸­çš„Radon-Nikodymå®šç†å¯è¯ã€‚\nå¯»æ‰¾æœ€ä¼˜çš„åˆ¤åˆ«å™¨Dæˆ‘ä»¬å‡å®šç”Ÿæˆå™¨Gå›ºå®šï¼Œæ¥è€ƒè™‘æœ€ä¼˜åˆ¤åˆ«å™¨, å¯å°†å’Œçœ‹ä½œå¸¸æ•°a, bã€‚\nç”±ä¸Šå¼å¾—ï¼š\n\nV = a\\log(D)+b\\log(1-D)æ±‚å¯¼æ±‚å…¶æå€¼ï¼š\n\n\\frac{dV}{dD}=aÃ—\\frac{1}{D}-bÃ—\\frac{1}{1-D}ä»¤ï¼Œåˆ™æ˜“å¾—æœ€ä¼˜åˆ¤åˆ«å™¨Dä¸ºï¼š\n\nD^*_G(x)=\\frac{p_{data}(x)}{p_{data}(x)+p_g(x)}\nNote that the training objective for D can be interpreted as maximizing the log-likelihood for estimating the conditional probability P(Y = y|x), where Y indicates whether x comes from (with y = 1) or from (with y = 0). \n\nå¯»æ‰¾æœ€ä¼˜çš„ç”Ÿæˆå™¨Gäºæ˜¯ï¼Œæˆ‘ä»¬å°†ä»£å…¥æ±‚\nè”ç³»KLæ•£åº¦ä¸JSæ•£åº¦çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š\n\n\\begin{aligned}\\underset{D}{max}V(G,D^*)\n&=E_{x\\backsim{p_{data}}}(\\log{D^*(x)})+E_{x\\backsim{p_{g}}}(\\log({1-D^*(x))})\\\\\n&=E_{x\\backsim{p_{data}}}(\\log{\\frac{p_{data}(x)}{p_{data}(x)+p_g(x)}})+E_{x\\backsim{p_{g}}}(\\log(\\frac{p_{g}(x)}{p_{data}(x)+p_g(x)})\\\\\n&=\\int_xp_{data}(x)\\log{\\frac{p_{data}(x)}{p_{data}(x)+p_g(x)}dx+\\int_xp_g(x)\\log{\\frac{p_{g}(x)}{p_{data}(x)+p_g(x)}dx}}\\\\\n&=\\int_xp_{data}(x)\\log{\\frac{\\frac{1}{2}p_{data}(x)}{\\frac{p_{data}(x)+p_g(x)}{2}}dx+\\int_xp_g(x)\\log{\\frac{\\frac{1}{2}p_{g}(x)}{\\frac{p_{data}(x)+p_g(x)}{2}}dx}}\\\\\n&=\\int_xp_{data}(x)\\log{\\frac{1}{2}}dx+\\int_xp_{g}(x)\\log{\\frac{1}{2}}dx\\\\&+\\int_xp_{data}(x)\\log{\\frac{p_{data}(x)}{\\frac{p_{data}(x)+p_g(x)}{2}}dx+\\int_xp_g(x)\\log{\\frac{p_{g}(x)}{\\frac{p_{data}(x)+p_g(x)}{2}}dx}}\\\\\n&=2\\log{\\frac{1}{2}}+2Ã—[\\frac{1}{2}KL(p_{data}||\\frac{p_g+p_{data}}{2})+\\frac{1}{2}KL(p_g||\\frac{p_g+p_{data}}{2})]\\\\\\\\\n&=-\\log{4}+2JSD(p_{data}||p_g)\\end{aligned}æœ‰JSæ•£åº¦çš„å®šä¹‰åŸŸå¯çŸ¥ï¼Œå½“ä¸”ä»…å½“çš„æ—¶å€™JSæ•£åº¦å–å¾—æœ€å°å€¼0ã€‚\næ‰€ä»¥æˆ‘ä»¬å¯ä»¥çŸ¥é“ä»…å½“æ—¶å–å¾—å…¨å±€æœ€å°å€¼ã€‚\nå³å–å¾—æœ€ä¼˜ç”Ÿæˆå™¨Géœ€è¦æ»¡è¶³çš„æ¡ä»¶æ˜¯\n\nåœ¨å®é™…è®­ç»ƒä¸­ï¼Œæƒ³è¦è¾¾åˆ°å…¨å±€æœ€ä¼˜æ˜¯ä¸å¯èƒ½çš„ï¼Œæˆ‘ä»¬çš„è®­ç»ƒç›®çš„æ˜¯ä½¿GANè¿›å…¥ä¸€ä¸ªçº³ä»€å¹³è¡¡çš„çŠ¶æ€ã€‚\nåœ¨çº³ä»€å‡è¡¡ç‚¹ï¼Œä¸¤è€…çš„å‚æ•°åˆ°è¾¾ä¸€ç§â€œåˆ¶è¡¡â€çŠ¶æ€ã€‚åœ¨ç»™å®šGçš„å‚æ•°æƒ…å†µä¸‹ï¼ŒDå½“å‰çš„å‚æ•°ä¾¿å¯¹åº”äº†DæŸå¤±å‡½æ•°çš„æœ€å°å€¼ï¼ŒåŒæ ·åœ¨ç»™å®šDçš„å‚æ•°æƒ…å†µä¸‹ï¼ŒGå½“å‰çš„å‚æ•°ä¾¿å¯¹åº”äº†GæŸå¤±å‡½æ•°çš„æœ€å°å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨äº¤æ›¿æ›´æ–°è¿‡ç¨‹ä¸­ï¼ŒDå’ŒGå‡ä¸å¯èƒ½å•ç‹¬åšå‡ºä»»ä½•æ”¹å˜ã€‚\n\nä¸ºä»€ä¹ˆä¸å…ˆå°†åˆ¤åˆ«å™¨è®­ç»ƒå¾—å¾ˆå¥½å†è®­ç»ƒç”Ÿæˆå™¨ï¼Ÿæ¢¯åº¦æ¶ˆå¤±\næˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œå½“å‡è®¾åˆ¤åˆ«å™¨ä¸ºæœ€ä¼˜çš„æç«¯æƒ…å†µä¸‹ï¼Œç›®æ ‡å‡½æ•°ä¸ºï¼š\n\n-\\log{4}+2JSD(p_{data}||p_g)æ­¤æ—¶ç”Ÿæˆå™¨æ•ˆæœè¿˜å¾ˆå·®ï¼Œå› æ­¤ä¸ä¸¤ä¸ªåˆ†å¸ƒçš„é‡å åŒºåŸŸå‡ ä¹ä¸º0ï¼Œæ­¤æ—¶æ˜“è¯ï¼Œå› æ­¤ï¼Œç›®æ ‡å‡½æ•°ä¸ºä¸€å¸¸æ•°0ã€‚æ­¤æ—¶ï¼Œå¯¹äºæ¢¯åº¦ä¸‹é™æ–¹æ³•ï¼Œæ¢¯åº¦ä¸º0ï¼Œå› æ­¤è®­ç»ƒæ— æ³•è¿›è¡Œã€‚\nè¯æ˜æ”¶æ•›\n\nä»£ç å®ç°åœ¨çœ‹äº†ä¸€äº›ç½‘ä¸Šçš„ä»£ç åæˆ‘å°è¯•ç€è‡ªå·±å®ç°äº†ä¸€ä¸‹åŸå§‹çš„GANï¼Œä½¿ç”¨Reluæ¿€æ´»å‡½æ•°ä»£æ›¿äº†åŸæ–‡ä¸­çš„maxoutï¼Œå¹¶ä½¿ç”¨tensorboardæ˜¯å®ç°äº†ç®€å•çš„å¯è§†åŒ–ã€‚\nimport osimport numpy as npimport torchfrom torch.optim import Adamfrom torch.utils.data import Dataset, DataLoaderimport torch.nn as nnfrom PIL import Imagefrom torchvision.utils import save_imagefrom torch.utils.tensorboard import SummaryWriterwriter = SummaryWriter('log')torch.cuda.empty_cache()Tensor = torch.cuda.FloatTensor if torch.cuda.is_available() else torch.FloatTensorclass Generator(nn.Module):    def __init__(self):        super(Generator, self).__init__()        self.latent_dim = 100        self.module = nn.Sequential(            nn.Linear(self.latent_dim, 128),            nn.ReLU(inplace=True),            nn.BatchNorm1d(128, 0.8),            nn.Linear(128, 256),            nn.ReLU(inplace=True),            nn.BatchNorm1d(256, 0.8),            nn.Linear(256, 512),            nn.ReLU(inplace=True),            nn.BatchNorm1d(512, 0.8),            nn.Linear(512, 1024),            nn.ReLU(inplace=True),            nn.BatchNorm1d(1024, 0.8),            nn.Linear(1024, 96*96*3)        )    def forward(self, z):        img = self.module(z)        return imgclass Discriminator(nn.Module):    def __init__(self):        super(Discriminator, self).__init__()        self.module = nn.Sequential(            nn.Linear(96*96*3, 1024),            nn.ReLU(inplace=True),            nn.Linear(1024, 512),            nn.ReLU(inplace=True),            nn.Linear(512, 256),            nn.ReLU(inplace=True),            nn.Linear(256, 1),            nn.Sigmoid()        )    def forward(self, img):        img = img.view(img.size(0), -1)        res = self.module(img)        return resclass ImgDataset(Dataset):    def __init__(self):        super(ImgDataset, self).__init__()        self.src, self.trg = [], []        for i in range(1, 10001):            img = Image.open('./faces/' + str(i) + '.jpg').convert('RGB')            img = np.array(img)            img = Tensor(img)            self.src.append(img)            self.trg.append(1)    def __getitem__(self, item):        return self.src[item], self.trg[item]    def __len__(self):        return len(self.src)def train(load=False, k=2):    if load:        torch.load('model/generator.pkl')        torch.load('model/discriminator.pkl')    gan_loss = torch.nn.BCELoss()    discriminator = Discriminator()    generator = Generator()    if torch.cuda.is_available():        gan_loss.cuda()        discriminator.cuda()        generator.cuda()    optimizer_g = Adam(generator.parameters(), weight_decay=0.001, lr=1e-5)    optimizer_d = Adam(discriminator.parameters(), weight_decay=0.001, lr=1e-5)    data = ImgDataset()    dataloader = DataLoader(data, batch_size=32)    sample_interval = 500    epoch_num = 200    for i in range(epoch_num):        for j, (Img, _) in enumerate(dataloader):            valid = Tensor(Img.size(0), 1).fill_(1.0)            fake = Tensor(Img.size(0), 1).fill_(0.0)            optimizer_g.zero_grad()            for _ in range(k):                z = Tensor(np.random.normal(0, 1, (Img.shape[0], 100)))  # latent_dim=100                g1_img = generator(z)                optimizer_d.zero_grad()                real_loss = gan_loss(discriminator(Img), valid)                fake_loss = gan_loss(discriminator(g1_img.detach()), fake)                d_loss = (real_loss + fake_loss) / 2                d_loss.backward()                optimizer_d.step()            writer.add_scalar(\"Loss/discriminator\", d_loss, j)            g_img = generator(z)            g_loss = gan_loss(discriminator(g_img), valid)            g_loss.backward()            optimizer_g.step()            writer.add_scalar(\"Loss/generator\", g_loss, j)            print(                \"[Epoch %d/%d] [Batch %d/%d] [D loss: %f] [G loss: %f]\"                % (i, epoch_num, j, len(dataloader), d_loss.item(), g_loss.item())            )            batches_done = i * len(dataloader) + j            if batches_done % sample_interval == 0:                save_image(g_img.data[:25], \"./images/%d.png\" % batches_done, nrow=5, normalize=True)                os.makedirs(\"model\", exist_ok=True)                torch.save(generator, 'model/generator.pkl')                torch.save(discriminator, 'model/discriminator.pkl')train(k=10)writer.flush()\næˆ‘ä½¿ç”¨äº†1ä¸‡å¼ (96,96,3)çš„äºŒæ¬¡å…ƒå›¾ç‰‡è¿›è¡Œè®­ç»ƒ,å¯è§å¾—åˆ°çš„ç»“æœååˆ†æŠ½è±¡(é˜¿å·´é˜¿å·´),åœ¨è®­ç»ƒæ—¶é‡åˆ°äº†ç”Ÿæˆå™¨lossé™åˆ°0è€Œåˆ¤åˆ«å™¨losså¾ˆé«˜ä¸”åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…ä¸¤è€…lossä¸å˜çš„æƒ…å†µ,æˆ‘çŒœæµ‹æ˜¯åˆ¤åˆ«å™¨å¤ªå¼±æ— æ³•åˆ¤åˆ«ç”Ÿæˆå›¾ç‰‡ä¸çœŸå®å›¾ç‰‡çš„åŸå› ,äºæ˜¯æ›´æ”¹è®­ç»ƒå†Œç­–ç•¥ä¸ºè®­ç»ƒäº”æ¬¡,åæ¬¡åˆ¤åˆ«å™¨åæ‰è®­ç»ƒä¸€æ¬¡ç”Ÿæˆå™¨,ç„¶è€ŒåŒæ ·çš„æƒ…å†µä»ç„¶å‘ç”Ÿäº†.æŒ‰ç…§æˆ‘çš„æƒ³æ³•,ç”Ÿæˆå›¾åƒéš¾åº¦å¤§åº”è¯¥å¯¼è‡´ç”Ÿæˆå™¨æ•ˆæœå·®,ä»è€Œå‡ºç°åˆ¤åˆ«å™¨lossä¸º0çš„æƒ…å†µ,emmmm,ä¸æ‡‚äº†,è¿˜å¾—ç»§ç»­å­¦ä¹ é˜¿!!!!\n"},{"title":"Gitå­¦ä¹ ç¬”è®°","url":"/2022/04/10/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","content":"\n\n\ngit init â€”â€” åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“ æ‰§è¡Œåä¼šç”Ÿæˆä¸€ä¸ª.gitç›®å½•ï¼Œ è¯¥ç›®å½•åŒ…å«äº†èµ„æºçš„æ‰€æœ‰å…ƒæ•°æ®\nä½¿ç”¨æŒ‡å®šç›®å½•ä½œä¸ºgitä»“åº“  â€”â€”git init newrepo\næ‰§è¡Œåä¼šåœ¨newrepoç›®å½•ä¸‹ç”Ÿæˆ.gitç›®å½•\nå°†æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶\ngit add â€”â€” æ·»è‡³æš‚å­˜åŒºgit add . â€”â€” å°†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æœªçº³å…¥çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº\ngit add {æ–‡ä»¶å} â€”â€” å°†æŒ‡å®šæ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº\ngit commit â€”â€” æäº¤git commit -m â€˜æäº¤è¯´æ˜â€™ â€”â€” å¯¹æš‚å­˜åŒºä¸­çš„æ–‡ä»¶è¿›è¡Œæäº¤ï¼ˆæ·»åŠ åˆ°ä»“åº“ä¸­ï¼‰\ngit push â€”â€” ä¸Šä¼ è¿œç¨‹ä»£ç å¹¶åˆå¹¶git push å‘½ç”¨äºä»å°†æœ¬åœ°çš„åˆ†æ”¯ç‰ˆæœ¬ä¸Šä¼ åˆ°è¿œç¨‹å¹¶åˆå¹¶ã€‚\nå‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š\ngit push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt;:&lt;è¿œç¨‹åˆ†æ”¯å&gt;\nè‹¥è¿œç¨‹åˆ†æ”¯åä¸æœ¬åœ°åˆ†æ”¯åç›¸åŒåˆ™å¯ä»¥çœç•¥ï¼šåŠä¹‹åéƒ¨åˆ†\nè‹¥ç‰ˆæœ¬æœ‰å·®å¼‚ï¼Œæƒ³è¦å¼ºåˆ¶æ¨é€\ngit push --force &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt;:&lt;è¿œç¨‹åˆ†æ”¯å&gt;\nè‹¥è¦åˆ é™¤ä¸»æœºçš„åˆ†æ”¯\ngit push origin --delete master # è¡¨ç¤ºåˆ é™¤originä¸»æœºçš„masteråˆ†æ”¯\ngit pull â€”â€” ä¸‹è½½è¿œç¨‹ä»£ç å¹¶åˆå¹¶git pull å‘½ä»¤ç”¨äºä»è¿œç¨‹è·å–ä»£ç å¹¶åˆå¹¶æœ¬åœ°çš„ç‰ˆæœ¬ã€‚\ngit pull å…¶å®å°±æ˜¯ git fetch å’Œ git merge FETCH_HEAD çš„ç®€å†™ã€‚ å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š\ngit pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;\ngit clone â€”â€” ä»ç°æœ‰Gitä»“åº“ä¸­æ‹·è´é¡¹ç›®git clone \nor\ngit clone   â€”â€”å…‹éš†åˆ°æŒ‡å®šç›®å½•\nå¦‚æœè¦è‡ªå·±å®šä¹‰è¦æ–°å»ºçš„é¡¹ç›®ç›®å½•åç§°ï¼Œå¯ä»¥åœ¨ä¸Šé¢çš„å‘½ä»¤æœ«å°¾æŒ‡å®šæ–°çš„åå­—\ngit commit -a è·³è¿‡git addï¼Œç›´æ¥æ·»åŠ è‡³æš‚å­˜åŒºåæäº¤\ngit config â€”â€” é…ç½®ä¿¡æ¯git config â€”list â€”â€” æ˜¾ç¤ºå½“å‰çš„gité…ç½®ä¿¡æ¯\ngit config -e  â€”â€” é’ˆå¯¹å½“å‰ä»“åº“ç¼–è¾‘gité…ç½®æ–‡ä»¶\ngit config -e â€”global â€”â€” é’ˆå¯¹ç³»ç»Ÿä¸Šæ‰€æœ‰ä»“åº“\nè®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯ï¼š\ngit config â€”global user.name {YOURGITHUBNAME}git config â€”global user.email {YOUREMAIL}\ngit status â€”â€” æŸ¥çœ‹ä»“åº“å½“å‰çš„çŠ¶æ€    æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶git status -s è·å¾—æ›´ç®€çŸ­çš„è¾“å‡ºç»“æœ\ngit diff  â€”â€” æ¯”è¾ƒæ–‡ä»¶çš„ä¸åŒï¼Œå³æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚\nå°šæœªç¼“å­˜çš„æ”¹åŠ¨ï¼šgit diff\næŸ¥çœ‹å·²ç¼“å­˜çš„æ”¹åŠ¨ï¼š git diff â€”cached\næŸ¥çœ‹å·²ç¼“å­˜çš„ä¸æœªç¼“å­˜çš„æ‰€æœ‰æ”¹åŠ¨ï¼šgit diff HEAD\næ˜¾ç¤ºæ‘˜è¦è€Œéæ•´ä¸ª diffï¼šgit diff â€”stat\n\ngit reset â€”â€” ç”¨äºå›é€€ç‰ˆæœ¬ï¼Œ å¯ä»¥åˆ¶å®šé€€å›æŸä¸€æ¬¡æäº¤çš„ç‰ˆæœ¬git reset [--soft | --mixed | --hard] [HEAD]\ngit reset HEAD^ - å›é€€æ‰€æœ‰å†…å®¹åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬\ngit reset HEAD^ {filename} - å›é€€æŒ‡å®šæ–‡ä»¶åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬\ngit reset {ç‰ˆæœ¬å·} - å›é€€åˆ°æŒ‡å®šç‰ˆæœ¬\ngit reset â€”soft HEAD â€” softå‚æ•°ç”¨äºå›é€€åˆ°æŸä¸ªç‰ˆæœ¬\nä¾‹ï¼š\n$ git reset --soft HEAD~3 # å›é€€ä¸Šä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬\ngit reset â€”hard HEAD\nâ€”hard å‚æ•°æ’¤é”€å·¥ä½œåŒºä¸­æ‰€æœ‰æœªæäº¤çš„ä¿®æ”¹å†…å®¹ï¼Œå°†æš‚å­˜åŒºä¸å·¥ä½œåŒºéƒ½å›åˆ°ä¸Šä¸€æ¬¡ç‰ˆæœ¬ï¼Œå¹¶åˆ é™¤ä¹‹å‰çš„æ‰€æœ‰ä¿¡æ¯æäº¤ï¼ˆæ…é‡ä½¿ç”¨ï¼‰\nHEAD è¯´æ˜ï¼š\n\nHEAD è¡¨ç¤ºå½“å‰ç‰ˆæœ¬\n\nHEAD^ ä¸Šä¸€ä¸ªç‰ˆæœ¬\n\nHEAD^^ ä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬\n\nHEAD^^^ ä¸Šä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬\n\n\n\nä»¥æ­¤ç±»æ¨â€¦\n\nå¯ä»¥ä½¿ç”¨ ï½æ•°å­—è¡¨ç¤º\n\nHEAD~0 è¡¨ç¤ºå½“å‰ç‰ˆæœ¬\nHEAD~1 ä¸Šä¸€ä¸ªç‰ˆæœ¬\nHEAD^2 ä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬\nHEAD^3 ä¸Šä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬\nä»¥æ­¤ç±»æ¨â€¦\n\ngit reset HEAD å‘½ä»¤ç”¨äºå–æ¶ˆå·²ç¼“å­˜çš„å†…å®¹ã€‚\ngit rm  â€”â€” å°†æ–‡ä»¶ä»æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸­åˆ é™¤å¦‚æœåˆ é™¤ä¹‹å‰ä¿®æ”¹è¿‡å¹¶ä¸”å·²ç»æ”¾åˆ°æš‚å­˜åŒºåŸŸçš„è¯ï¼Œåˆ™å¿…é¡»è¦ç”¨å¼ºåˆ¶åˆ é™¤é€‰é¡¹ -f\ngit rm -f \nå¦‚æœæƒ³æŠŠæ–‡ä»¶ä»æš‚å­˜åŒºåŸŸç§»é™¤ï¼Œä½†ä»ç„¶å¸Œæœ›ä¿ç•™åœ¨å½“å‰å·¥ä½œç›®å½•ä¸­ï¼Œæ¢å¥è¯è¯´ï¼Œä»…æ˜¯ä»è·Ÿè¸ªæ¸…å•ä¸­åˆ é™¤ï¼Œä½¿ç”¨ â€”cached é€‰é¡¹å³å¯ï¼š\ngit rm â€”cached \ngit mv  â€”â€” ç”¨äºç§»åŠ¨æˆ–é‡å‘½åä¸€ä¸ªæ–‡ä»¶,ç›®å½•æˆ–è½¯è¿æ¥ã€‚git mv [file] [newfile]\ngit log â€”â€” æŸ¥çœ‹å†å²æäº¤è®°å½•ç”¨ â€”online é€‰é¡¹æ¥æŸ¥çœ‹å†å²è®°å½•çš„ç®€æ´ç‰ˆæœ¬ã€‚\ngit log â€”online\ngit blame  - ä»¥åˆ—è¡¨å½¢å¼æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çš„å†å²ä¿®æ”¹è®°å½•\ngit remote â€”â€” è¿œç¨‹ä»“åº“æ“ä½œgit remote -v â€”â€” æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“\ngit remote show [remote] â€”â€” æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯\nremoteä¸ºè¿œç¨‹ä»“åº“åœ°å€\ngit remote set-url [shortname] [url]\nshortname ä¸ºæœ¬åœ°çš„ç‰ˆæœ¬åº“\næ·»åŠ è¿œç¨‹ç‰ˆæœ¬åº“ï¼š\ngit remote add [shortname] [url]\nshortname ä¸ºæœ¬åœ°çš„ç‰ˆæœ¬åº“\ngit remote rm name  # åˆ é™¤è¿œç¨‹ä»“åº“git remote rename old_name new_name  # ä¿®æ”¹ä»“åº“å\ngit branch (branchname) â€”â€” åˆ›å»ºæ–°åˆ†æ”¯git branch â€”â€” åˆ—å‡ºæœ¬åœ°çš„åˆ†æ”¯\ngit checkout (branchname) â€”â€” åˆ‡æ¢åˆ†æ”¯å‘½ä»¤å½“åˆ‡æ¢åˆ†æ”¯çš„æ—¶å€™ï¼ŒGit ä¼šç”¨è¯¥åˆ†æ”¯çš„æœ€åæäº¤çš„å¿«ç…§æ›¿æ¢ä½ çš„å·¥ä½œç›®å½•çš„å†…å®¹ï¼Œ æ‰€ä»¥å¤šä¸ªåˆ†æ”¯ä¸éœ€è¦å¤šä¸ªç›®å½•ã€‚\nä¹Ÿå¯ä»¥ä½¿ç”¨ git checkout -b (branchname) â€”â€” åˆ›å»ºæ–°åˆ†æ”¯å¹¶ç«‹å³åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ä¸‹ï¼Œä»è€Œåœ¨è¯¥åˆ†æ”¯ä¸­æ“ä½œã€‚\ngit merge â€”â€” åˆå¹¶åˆ†æ”¯å‘½ä»¤git merge [branchname] â€”â€” å°†æŒ‡å®šåˆ†æ”¯ä¸å½“å‰æ‰€åœ¨åˆ†æ”¯åˆå¹¶ \ngit fetch â€”â€” ä»è¿œç¨‹è·å–ä»£ç åº“æ‰§è¡Œå®Œåæ‰§è¡Œgit mergeåˆå¹¶è¿œç¨‹åˆ†æ”¯åˆ°ä½ æ‰€åœ¨çš„åˆ†æ”¯\n\ngit tag [tagname]â€”â€” ä¸ºæäº¤å¿«ç…§æ‰“ä¸Šæ ‡ç­¾ä¾‹ï¼š\næˆ‘ä»¬å¯ä»¥ç”¨ git tag -a v1.0 å‘½ä»¤ç»™æœ€æ–°ä¸€æ¬¡æäº¤æ‰“ä¸Šï¼ˆHEADï¼‰â€v1.0â€çš„æ ‡ç­¾\ngit tag â€”â€” æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾\n-a é€‰é¡¹æ„ä¸ºâ€åˆ›å»ºä¸€ä¸ªå¸¦æ³¨è§£çš„æ ‡ç­¾â€ã€‚ ä¸ç”¨ -a é€‰é¡¹ä¹Ÿå¯ä»¥æ‰§è¡Œçš„ï¼Œä½†å®ƒä¸ä¼šè®°å½•è¿™æ ‡ç­¾æ˜¯å•¥æ—¶å€™æ‰“çš„ï¼Œè°æ‰“çš„ï¼Œä¹Ÿä¸ä¼šè®©ä½ æ·»åŠ ä¸ªæ ‡ç­¾çš„æ³¨è§£ã€‚\ngit log â€”decorate â€”â€” æŸ¥çœ‹æ ‡ç­¾\n\nç”Ÿæˆsshå¯†é’¥æ‰§è¡Œï¼š\nssh-keygen -t rsa -C &lt;your email&gt;\nä¼šç”Ÿæˆä¸€ä¸ª.sshæ–‡ä»¶\næ‰¾åˆ°å…¶ä¸­çš„id_rsa.pubå°†å…¶ä¸­å†…å®¹å¤åˆ¶\nè¿›å…¥github settings ç‚¹å‡»SSH and GPG keys\nåˆ›å»ºæ–°å¯†é’¥å¹¶å°†å¯†é’¥å†…å®¹ç²˜è´´å…¥å…¶ä¸­\n"},{"title":"Jsonå­¦ä¹ ç¬”è®°","url":"/2022/04/10/Json%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","content":"\n\nJSON\nJSON è¯­æ³•è§„åˆ™\nJSON åç§°/å€¼å¯¹\nJSON å€¼\nJSON æ–‡ä»¶\nJSONå¯¹è±¡\nä½¿ç”¨ç‚¹å·è®¿é—®å¯¹è±¡å€¼\nä½¿ç”¨ç‚¹å·. æˆ–è€…ä¸­æ‹¬å· [] æ¥è®¿é—®åµŒå¥—çš„JSONå¯¹è±¡ã€‚\nä¿®æ”¹JSONå€¼\nä¿®æ”¹å¯¹è±¡å±æ€§\n\n\nJSONæ•°ç»„\næ•°ç»„å¯ä»¥ä½œä¸ºJSONå¯¹è±¡\nJSONå¯¹è±¡ä¸­çš„æ•°ç»„\nåµŒå¥— JSON å¯¹è±¡ä¸­çš„æ•°ç»„\n\n\n\n\nPython json\njson.dumps\njson.loads\n\n\n\n\nJSONJSON: JavaScript Object Notation(JavaScript å¯¹è±¡è¡¨ç¤ºæ³•)\nJSON è¯­æ³•è§„åˆ™JSON è¯­æ³•æ˜¯ JavaScript å¯¹è±¡è¡¨ç¤ºè¯­æ³•çš„å­é›†ã€‚\n\næ•°æ®åœ¨åç§°/å€¼å¯¹ä¸­\næ•°æ®ç”±é€—å·åˆ†éš”\nå¤§æ‹¬å· {} ä¿å­˜å¯¹è±¡\nä¸­æ‹¬å· [] ä¿å­˜æ•°ç»„ï¼Œæ•°ç»„å¯ä»¥åŒ…å«å¤šä¸ªå¯¹è±¡\n\nJSON åç§°/å€¼å¯¹JSON æ•°æ®çš„ä¹¦å†™æ ¼å¼æ˜¯ï¼š\nkey : value\nåç§°/å€¼å¯¹åŒ…æ‹¬å­—æ®µåç§°ï¼ˆåœ¨åŒå¼•å·ä¸­ï¼‰ï¼Œåé¢å†™ä¸€ä¸ªå†’å·ï¼Œç„¶åæ˜¯å€¼ï¼š\nâ€œnameâ€ : â€œèœé¸Ÿæ•™ç¨‹â€\nJSON å€¼JSON å€¼å¯ä»¥æ˜¯ï¼š\n\næ•°å­—ï¼ˆæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼‰\nå­—ç¬¦ä¸²ï¼ˆåœ¨åŒå¼•å·ä¸­ï¼‰\né€»è¾‘å€¼ï¼ˆtrue æˆ– falseï¼‰\næ•°ç»„ï¼ˆåœ¨ä¸­æ‹¬å·ä¸­ï¼‰\nå¯¹è±¡ï¼ˆåœ¨å¤§æ‹¬å·ä¸­ï¼‰\nnull\n\nJSON æ–‡ä»¶\nJSON æ–‡ä»¶çš„æ–‡ä»¶ç±»å‹æ˜¯ .json\nJSON æ–‡æœ¬çš„ MIME ç±»å‹æ˜¯ application/json\n\nMINEç±»å‹ï¼šåª’ä½“ç±»å‹ï¼ˆé€šå¸¸ç§°ä¸º Multipurpose Internet Mail Extensions æˆ– MIME ç±»å‹ ï¼‰æ˜¯ä¸€ç§æ ‡å‡†ï¼Œç”¨æ¥è¡¨ç¤ºæ–‡æ¡£ã€æ–‡ä»¶æˆ–å­—èŠ‚æµçš„æ€§è´¨å’Œæ ¼å¼ã€‚ å®ƒåœ¨IETF RFC 6838ä¸­è¿›è¡Œäº†å®šä¹‰å’Œæ ‡å‡†åŒ–ã€‚\nJSONå¯¹è±¡å¿…é¡»åœ¨å¤§æ‹¬å·{}ä¸­ä¹¦å†™ï¼Œ\nkeyå¿…é¡»æ˜¯å­—ç¬¦ä¸²ï¼Œvalueå¯ä»¥æ˜¯åˆæ³•çš„JSONæ•°æ®ç±»å‹ï¼ˆè§JSONå€¼ï¼‰\nä½¿ç”¨ç‚¹å·è®¿é—®å¯¹è±¡å€¼ä¾‹ï¼š\nvar myobj, x;myobj = &#123;&quot;name&quot;:&quot;runoob&quot;, &quot;alexa&quot;:10000, &quot;site&quot;:null&#125;;x = myobj[&quot;name&quot;];\nä½¿ç”¨ç‚¹å·. æˆ–è€…ä¸­æ‹¬å· [] æ¥è®¿é—®åµŒå¥—çš„JSONå¯¹è±¡ã€‚x = myobj.sites.site1;x = myobj.sites[&quot;site1&quot;];\nä¿®æ”¹JSONå€¼ä½¿ç”¨ç‚¹å·è®¿é—®å¹¶ä¿®æ”¹\nmyobj.sites.site1 = &quot;sxasxaxa&quot;\nä½¿ç”¨ä¸­æ‹¬å·è®¿é—®å¹¶ä¿®æ”¹\nmyobj.sites.[&quot;site1&quot;] = &quot;sadadsad&quot;\nä¿®æ”¹å¯¹è±¡å±æ€§ä½¿ç”¨deleteå…³é”®å­—æ¥åˆ é™¤JSONå¯¹è±¡çš„å±æ€§ï¼š\ndelete myobj.sites.site1\nJSONæ•°ç»„æ•°ç»„å¯ä»¥ä½œä¸ºJSONå¯¹è±¡ä¾‹ï¼š\n[ &quot;Google&quot;, &quot;Runoob&quot;, &quot;Taobao&quot; ]\nJSONå¯¹è±¡ä¸­çš„æ•°ç»„ä¾‹ï¼š\n&#123;&quot;name&quot;:&quot;ç½‘ç«™&quot;,&quot;num&quot;:3,&quot;sites&quot;:[ &quot;Google&quot;, &quot;Runoob&quot;, &quot;Taobao&quot; ]&#125;\nåµŒå¥— JSON å¯¹è±¡ä¸­çš„æ•°ç»„JSON å¯¹è±¡ä¸­æ•°ç»„å¯ä»¥åŒ…å«å¦å¤–ä¸€ä¸ªæ•°ç»„ï¼Œæˆ–è€…å¦å¤–ä¸€ä¸ª JSON å¯¹è±¡ï¼š\nä¾‹ï¼š\nmyObj = &#123;    &quot;name&quot;:&quot;ç½‘ç«™&quot;,    &quot;num&quot;:3,    &quot;sites&quot;: [        &#123; &quot;name&quot;:&quot;Google&quot;, &quot;info&quot;:[ &quot;Android&quot;, &quot;Google æœç´¢&quot;, &quot;Google ç¿»è¯‘&quot; ] &#125;,        &#123; &quot;name&quot;:&quot;Runoob&quot;, &quot;info&quot;:[ &quot;èœé¸Ÿæ•™ç¨‹&quot;, &quot;èœé¸Ÿå·¥å…·&quot;, &quot;èœé¸Ÿå¾®ä¿¡&quot; ] &#125;,        &#123; &quot;name&quot;:&quot;Taobao&quot;, &quot;info&quot;:[ &quot;æ·˜å®&quot;, &quot;ç½‘è´­&quot; ] &#125;    ]&#125;\nâ€”â€”â€”â€”JSONæ•°ç»„å’Œå¯¹è±¡éƒ½å¯ä»¥ä½¿ç”¨for-inå¾ªç¯æ¥è®¿é—®\nPython jsonjson.dumpsjson.dumps(obj, skipkeys=False, ensure_ascii=True, check_circular=True, allow_nan=True, cls=None, indent=None, separators=None, encoding=&quot;utf-8&quot;, default=None, sort_keys=False, **kw)\nâ€”â€”å°†pythonå¯¹è±¡ç¼–ç æˆJSONå­—ç¬¦ä¸²\nimport jsondata = [ &#123; &#x27;a&#x27; : 1, &#x27;b&#x27; : 2, &#x27;c&#x27; : 3, &#x27;d&#x27; : 4, &#x27;e&#x27; : 5 &#125; ]data2 = json.dumps(&#123;&#x27;a&#x27;: &#x27;Runoob&#x27;, &#x27;b&#x27;: 7&#125;, sort_keys=True, indent=4, separators=(&#x27;,&#x27;, &#x27;: &#x27;))print(data2)\n\n\njson.loadsjson.loads(s[, encoding[, cls[, object_hook[, parse_float[, parse_int[, parse_constant[, object_pairs_hook[, **kw]]]]]]]])\nâ€”â€”json.loads ç”¨äºè§£ç  JSON æ•°æ®ã€‚è¯¥å‡½æ•°è¿”å› Python å­—æ®µçš„æ•°æ®ç±»å‹ã€‚\nimport jsonjsonData = &#x27;&#123;&quot;a&quot;:1,&quot;b&quot;:2,&quot;c&quot;:3,&quot;d&quot;:4,&quot;e&quot;:5&#125;&#x27;;text = json.loads(jsonData)print(text)\n\n"},{"title":"OpenMVå®ç°é¶ç‚¹æ£€æµ‹","url":"/2022/04/27/OpenMV%E5%AE%9E%E7%8E%B0%E9%9D%B6%E7%82%B9%E6%A3%80%E6%B5%8B/","content":"â€”â€” æœªå®Œ\nidea:\n\nåˆæ­¥æƒ³æ³•æ˜¯åˆ©ç”¨é¢œè‰²ä¿¡æ¯å¯¹é¶å­è¿›è¡Œæ£€æµ‹\nå†å¯¹é¶ç‚¹è¿›è¡Œå®šä½ã€‚è‹¥æ•ˆæœä¸ä½³è€ƒè™‘éƒ¨ç½²TensorFlow Lite yoloè¿›è¡Œç›®æ ‡æ£€æµ‹\nè¾¹ç¼˜æ£€æµ‹\nå›¾åƒå¯¹æ¯”\nå…ˆé¢œè‰²è¯†åˆ«åæ¨¡å—åŒ¹é…\nå†³å®šå…ˆè‰²å—è¯†åˆ«å®šä½é¶å­ã€‚èˆµæœºè¿½è¸ªé¶å­æ–¹ä½åŒæ—¶æ¨ªå‘è¿åŠ¨å°è½¦ï¼Œä»¤å°è½¦èˆµæœºä¸è½¦èº«è§’åº¦ä¸º90åº¦æ—¶èˆµæœºå¯¹å‡†é¶å­ã€‚è½¬åŠ¨å°è½¦ä½¿è½¦èº«ä¸èˆµæœºå¤¹è§’ä¸º0åº¦ã€‚ä½¿å°è½¦ç›´è¡Œï¼Œå¹¶è¿›è¡Œè¾¹ç¼˜æ£€æµ‹ï¼Œä¼ å›çŸ©å½¢é¶å­çš„é•¿å®½å¤§å°æ¯”ä¾‹ï¼Œåˆ†ææ•°æ®å¹¶ä¸æ–­è¿›è¡Œå¾®è°ƒã€‚æˆ³ä¸­é¶å¿ƒåè½¬åŠ¨èˆµæœºå¯»æ‰¾ç¬¬äºŒä¸ªé¶å­é‡å¤ä»¥ä¸Šæ“åšã€‚\n\n1.è®¾ç½®çª—å£roi\nsensor.set_windowing(roi)\n\nroi ï¼ˆå›æŠ¥ç‡ï¼‰ ï¼ˆæ„Ÿå…´è¶£çš„åŒºåŸŸï¼‰ï¼ˆè¿›è¡Œæ£€æµ‹çš„åŒºåŸŸï¼‰\n\nroiçš„æ ¼å¼æ˜¯(x, y, w, h)çš„tupple\n2.æ°´å¹³ç¿»è½¬å›¾åƒï¼Œä½¿å°è½¦è§†é‡ä¸å®é™…ç›¸åŒ\næ°´å¹³æ–¹å‘ç¿»è½¬ï¼š\nsensor.set_hmirror(True)\n3.è·å–åŒºåŸŸå†…çš„å¹³å‡é¢œè‰²æˆ–è€…å é¢ç§¯æœ€å¤§çš„é¢œè‰²ä¿¡æ¯\nä½¿ç”¨ Statistics\nimage.get_statistics(roi=Auto)\n4.å¯»æ‰¾è‰²å—\nimage.find_blobs(thresholds, roi=Auto, x_stride=2, y_stride=1, invert=False, area_threshold=10, pixels_threshold=10, merge=False, margin=0, threshold_cb=None, merge_cb=None)\n\nthresholdsæ˜¯é¢œè‰²çš„é˜ˆå€¼ï¼Œæ³¨æ„ï¼šè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªé¢œè‰²ã€‚å¦‚æœä½ åªéœ€è¦ä¸€ä¸ªé¢œè‰²ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªåˆ—è¡¨ä¸­åªéœ€è¦æœ‰ä¸€ä¸ªé¢œè‰²å€¼ï¼Œå¦‚æœä½ æƒ³è¦å¤šä¸ªé¢œè‰²é˜ˆå€¼ï¼Œé‚£è¿™ä¸ªåˆ—è¡¨å°±éœ€è¦å¤šä¸ªé¢œè‰²é˜ˆå€¼ã€‚æ³¨æ„ï¼šåœ¨è¿”å›çš„è‰²å—å¯¹è±¡blobå¯ä»¥è°ƒç”¨codeæ–¹æ³•ï¼Œæ¥åˆ¤æ–­æ˜¯ä»€ä¹ˆé¢œè‰²çš„è‰²å—ã€‚\n\n\né˜ˆå€¼å‚æ•°çš„ç»“æ„\ncolour = (minL, maxL, minA, maxA, minB, maxB)\nOpenMV çš„IDEé‡ŒåŠ å…¥äº†é˜ˆå€¼é€‰æ‹©å·¥å…·      ç”¨ä»–ï¼\n(50, 75, -60, -14, 12, 62)æµ…æµ‹ä¸€ä¸ªç»¿è‰² æ„Ÿè§‰ä¸æ˜¯å¾ˆå‡†ã€‚ã€‚\né¶ç‚¹æ£€æµ‹åœºåœ°ä¸º200*200   è°ƒæ•´x, y_stride    å°†mergeè®¾ç½®ä¸ºTrue\nblob.rect() è¿”å›è¿™ä¸ªè‰²å—çš„å¤–æ¡†â€”â€”çŸ©å½¢å…ƒç»„(x, y, w, h)\n\nè¾¹ç¼˜æ£€æµ‹\nimage.find_edges(edge_type[,threshold])\nå°†å›¾åƒå˜ä¸ºé»‘ç™½ã€‚è¾¹ç¼˜ä¿ç•™ç™½è‰²åƒç´ \nedge_type å‚æ•°ï¼šimage.EDGE_SIMPLE â€”â€”ç®€å•çš„é˜ˆå€¼é«˜é€šæ»¤æ³¢ç®—æ³•\nâ€‹                               image.EDGE_CANNY â€”â€”cannyè¾¹ç¼˜æ£€æµ‹\nthreshold â€”â€” åŒ…å«é«˜ä½é˜ˆå€¼çš„äºŒå…ƒç»„ é»˜è®¤ï¼ˆ100ï¼Œ200ï¼‰ ä»…æ”¯æŒç°åº¦å›¾åƒ\nä¾‹ç¨‹ï¼š\n# Cannyè¾¹ç¼˜æ£€æµ‹:## è¿™ä¸ªä¾‹å­å±•ç¤ºäº†Cannyè¾¹ç¼˜æ£€æµ‹ã€‚import sensor, image, timesensor.reset() # åˆå§‹åŒ–sensor.sensor.set_pixformat(sensor.GRAYSCALE) # or sensor.RGB565#è®¾ç½®å›¾åƒè‰²å½©æ ¼å¼ï¼Œæœ‰RGB565è‰²å½©å›¾å’ŒGRAYSCALEç°åº¦å›¾ä¸¤ç§sensor.set_framesize(sensor.QQVGA) # or sensor.QVGA (or others)#è®¾ç½®å›¾åƒåƒç´ å¤§å°sensor.skip_frames(30) # è®©æ–°çš„è®¾ç½®ç”Ÿæ•ˆsensor.set_gainceiling(8)clock = time.clock() # è·Ÿè¸ªFPSå¸§ç‡while(True):    clock.tick() # è¿½è¸ªä¸¤ä¸ªsnapshots()ä¹‹é—´ç»è¿‡çš„æ¯«ç§’æ•°.    img = sensor.snapshot() # æ‹ä¸€å¼ ç…§ç‰‡å¹¶è¿”å›å›¾åƒã€‚    # ä½¿ç”¨Cannyè¾¹ç¼˜æ£€æµ‹å™¨    img.find_edges(image.EDGE_CANNY, threshold=(50, 80))    #thresholdè®¾ç½®é˜ˆå€¼    # æ›´å¿«æ›´ç®€å•çš„è¾¹ç¼˜æ£€æµ‹    #img.find_edges(image.EDGE_SIMPLE, threshold=(100, 255))    print(clock.fps()) # æ³¨æ„:ä½ çš„OpenMVæ‘„åƒå¤´çš„è¿è¡Œé€Ÿåº¦åªæœ‰å®ƒçš„ä¸€åŠ\nimport sensor, image, lcd#åˆå§‹åŒ–æ‘„åƒå¤´sensor.reset() # åˆå§‹åŒ–æ‘„åƒå¤´æ¨¡å—.sensor.set_pixformat(sensor.GRAYSCALE) # æˆ–è€…ä½¿ç”¨ sensor.RGB565 å½©è‰²sensor.set_framesize(sensor.QQVGA) # æˆ–è€…ä½¿ç”¨ sensor.QVGA (or others)sensor.skip_frames(time = 2000) #å»¶æ—¶è®©æ‘„åƒå¤´æ–‡ç¨³å®š.sensor.set_gainceiling(8) #è®¾ç½®å¢ç›Šï¼Œè¿™æ˜¯å®˜æ–¹æ¨èçš„å‚æ•°lcd.init()                          # LCDåˆå§‹åŒ–while(True):    img = sensor.snapshot() # æ‹æ‘„å¹¶è¿”å›å›¾åƒ.    #ä½¿ç”¨ Canny è¾¹ç¼˜æ£€æµ‹å™¨    img.find_edges(image.EDGE_CANNY, threshold=(50, 80))    lcd.display(img)                # LCDæ˜¾ç¤ºimg\nèˆµæœºæ§åˆ¶\næ„é€ å‡½æ•°\n\n\nclasspyb.Servo(id)\nåˆ›å»ºä¸€ä¸ªä¼ºæœå¯¹è±¡ã€‚ id ä¸º1-3ï¼Œä¸å¼•è„šP7è‡³P9ç›¸å¯¹åº”ã€‚\n\n\n\næ–¹æ³•\n\nServo.angle([*angle, time=0*])\nè‹¥æœªç»™å®šå‚æ•°ï¼Œè¯¥å‡½æ•°è¿”å›å½“å‰è§’åº¦ã€‚è‹¥ç»™å®šå‡½æ•°ï¼Œè¯¥å‡½æ•°è®¾ç½®servoçš„è§’åº¦ï¼šangle æ˜¯åº¦æ•°è®¡çš„ç§»åŠ¨çš„è§’åº¦ã€‚time æ˜¯è¾¾åˆ°æŒ‡å®šè§’åº¦æ‰€ç”¨çš„æ¯«ç§’æ•°ã€‚è‹¥çœç•¥ï¼Œåˆ™servoä¼šå°½å¿«ç§»åŠ¨åˆ°æ–°çš„ä½ç½®ã€‚\n\nServo.speed([*speed, time=0*])\nè‹¥æœªç»™å®šå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›å½“å‰é€Ÿåº¦ã€‚è‹¥ç»™å®šå‚æ•°ï¼Œè¯¥å‡½æ•°è®¾ç½®servoçš„é€Ÿåº¦ï¼šspeed æ˜¯æ”¹å˜çš„é€Ÿåº¦ï¼Œå–å€¼100-100ã€‚time æ˜¯è¾¾åˆ°æŒ‡å®šè§’åº¦æ‰€ç”¨çš„æ¯«ç§’æ•°ã€‚è‹¥çœç•¥ï¼Œåˆ™servoä¼šå°½å¿«åŠ é€Ÿã€‚\n\nServo.pulse_width([*value*])\nè‹¥æœªç»™å®šå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›å½“å‰çš„åŸå§‹è„‰å®½å€¼ã€‚è‹¥ç»™å®šå‚æ•°ï¼Œè¯¥å‡½æ•°è®¾ç½®åŸå§‹è„‰å®½å€¼ã€‚\n\nServo.calibration([*pulse_min, pulse_max, pulse_centre*[, pulse_angle_90, pulse_speed_100**]**])\nè‹¥æœªç»™å®šå‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›å½“å‰çš„5å…ƒç»„æ ¡å‡†æ•°æ®ã€‚è‹¥ç»™å®šå‚æ•°ï¼Œè¯¥å‡½æ•°è®¾å®šè®¡æ—¶æ ¡å‡†ï¼špulse_min æ˜¯å…è®¸çš„æœ€å°è„‰å®½ã€‚pulse_max æ˜¯å…è®¸çš„æœ€å¤§è„‰å†²ã€‚pulse_centre æ˜¯ä¸­å¿ƒ/é›¶ä½ç½®å¯¹åº”çš„è„‰å®½ã€‚pulse_angle_90 æ˜¯90åº¦å¯¹åº”çš„è„‰å®½ã€‚pulse_speed_100 æ˜¯é€Ÿåº¦100å¯¹åº”çš„è„‰å®½ã€‚\n\n\nä¸²å£é€šä¿¡\nimport timefrom pyb import UARTuart = UART(3, 19200)while(True):    uart.write(&quot;Hello World!\\r&quot;)    time.sleep_ms(1000)\nUARTç±»\nå®ä¾‹åŒ–ä¸€ä¸ªä¸²å£ï¼Œ æ³¢ç‰¹ç‡ä¸º19200çš„ä¸²å£3\n\næ³¨æ„ï¼šå¿…é¡»æ˜¯ä¸²å£3ï¼Œå› ä¸ºOpenMV2åªå¼•å‡ºäº†è¿™ä¸ªä¸²å£ï¼Œpybçš„ä¸²å£æœ‰å¥½å¤šä¸ªçš„ã€‚OpenMV3åˆå¢åŠ äº†ä¸²å£1ã€‚\n\nè°ƒç”¨writeæ–¹æ³•ä¼ è¾“æ•°æ®   å¯ä¼ è¾“Jsonæ•°æ®\n"},{"title":"TOWARDS PRINCIPLED METHODS FOR TRAINING","url":"/2022/05/31/TOWARDS%20PRINCIPLED%20METHODS%20FOR%20TRAINING/","content":"åŸå§‹GANçš„ä¸€äº›é—®é¢˜ä¼ ç»Ÿè®­ç»ƒç”Ÿæˆå¼æ¨¡å‹çš„æ–¹æ³•ä¾èµ–äºæå¤§ä¼¼ç„¶æ³•æˆ–è€…ç­‰ä»·çš„æœ€å°åŒ–(ç”Ÿæˆæ•°æ®åˆ†å¸ƒ)ä¸(çœŸå®æ•°æ®åˆ†å¸ƒ)ä¹‹é—´çš„KLæ•£åº¦ï¼Œå¦‚æœæˆ‘ä»¬å‡è®¾è¿™ä¸¤ä¸ªåˆ†å¸ƒéƒ½æ˜¯è¿ç»­çš„å¯†åº¦å’Œ ï¼Œé‚£ä¹ˆè¿™äº›æ–¹æ³•è¯•å›¾æœ€å°åŒ–\n\nKL(\\mathbb{P}_{r}||\\mathbb{P}_{g})=\\int_{\\chi}{P_r}\\log{\\frac{P_r(x)}{P_g(x)}dx}åœ¨GANçš„åŸå§‹è®ºæ–‡ä¸­å·²ç»è¯æ˜äº†å®ƒä»…åœ¨æ—¶å…¨å±€æœ€å°\nå½“çš„æ—¶å€™ç‚¹æ¥è‡ªçœŸå®æ•°æ®çš„æ¦‚ç‡æ¯”ç”Ÿæˆæ ·æœ¬çš„æ¦‚ç‡æ›´é«˜ã€‚äº§ç”Ÿmode droppingç°è±¡çš„æ ¸å¿ƒåŸå› ï¼šå½“çš„å€¼è¾ƒé«˜çš„åŒºåŸŸè¾ƒå¤§ï¼Œè€Œçš„å€¼è¾ƒå°æˆ–ä¸º0ã€‚å¾ˆå®¹æ˜“æ³¨æ„åˆ°å½“â€‹çš„å€¼å¤§äº0ä½†æ˜¯â€‹çš„å€¼è¶‹è¿‘äº0çš„æ—¶å€™ï¼ŒKLä¸­è¢«ç§¯å‡½æ•°çš„å€¼å‰§å¢è‡³æ— ç©·å¤§ï¼Œè¿™æ„å‘³ç€æ­¤æˆæœ¬å‡½æ•°ä¸ºä¸åŒ…å«éƒ¨åˆ†æ•°æ®çš„ç”Ÿæˆå™¨åˆ†å¸ƒåˆ†é…äº†æé«˜çš„æˆæœ¬ï¼ˆmeaning that this cost function assigns an extremely\nhigh cost to a generatorâ€™s distribution not covering parts of the dataï¼‰\n\nmode droppingï¼ˆmode collapseï¼‰\nå½“ä¸€ä¸ªgeneratorå¼€å§‹åå¤ç”Ÿæˆä¸€ä¸ªç›¸åŒçš„è¾“å‡º,discriminatorçš„æœ€ä½³å­¦ä¹ ç­–ç•¥æ˜¯åå¤ä»¥é«˜ç½®ä¿¡åº¦æ‹’ç»è¿™ä¸ªè¾“å‡º(å³ç»™å‡ºæä½çš„output).ä½†å¦‚æœæŸä¸€ä»£discriminatoré™·å…¥äº†å±€éƒ¨æœ€å°å¹¶ä¸”æ²¡æœ‰æ‰¾åˆ°æœ€ä½³çš„è®­ç»ƒç­–ç•¥,é‚£ä¹ˆå¾ˆå®¹æ˜“åœ¨ä¸‹ä¸€æ¬¡è¿­ä»£æ—¶ä½¿generatoræ‰¾åˆ°é‚£ä¸ªå¯¹discriminatoræ¥è¯´ä¼¼ä¹æœ€åˆç†çš„è¾“å‡º.generatorçš„æ¯æ¬¡è¿­ä»£éƒ½ä¼šå¯¹ç‰¹å®šçš„discriminatorè¿›è¡Œè¿‡åº¦ä¼˜åŒ–,å¹¶ä¸”discriminatoræ°¸è¿œæ— æ³•æ‘†è„±è¿™ä¸ªâ€é™·é˜±â€,å› æ­¤generatorä¼šé‡å¤åœ°è¾“å‡ºä¸€å°ç»„è¾“å‡ºç±»å‹.\n\nå½“çš„æ—¶å€™ç‚¹æ¥è‡ªç”Ÿæˆæ•°æ®çš„æ¦‚ç‡æ›´é«˜ï¼Œåœ¨æˆ‘ä»¬çœ‹åˆ°ç”Ÿæˆå™¨è¾“å‡ºçš„å›¾ç‰‡çœ‹èµ·æ¥ä¸åƒçœŸå®çš„å›¾ç‰‡çš„æ—¶å€™å°±æ˜¯å‡ºç°äº†è¿™ç§æƒ…å†µã€‚å½“çš„å€¼è¶‹è¿‘äº0å¹¶ä¸”â€‹çš„å€¼å¤§äº0çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°KLçš„å€¼è¶‹è¿‘äº0ï¼Œè¿™æ„å‘³ç€è¿™ä¸ªæˆæœ¬å‡½æ•°å°†ä¸ºç”Ÿæˆçš„ä¸å¤ŸçœŸå®çš„æ ·æœ¬åˆ†é…æå°çš„æˆæœ¬ï¼ˆmeaning that this cost function will pay extremely low cost\nfor generating fake looking samplesï¼‰\n"},{"title":"Total Variation distance","url":"/2022/05/30/Total%20Variation%20distance/","content":"å®šä¹‰åœ¨Eä¸Šçš„ä¸¤ä¸ªåˆ†å¸ƒ$\\mu$å’Œ$v$çš„æ€»å˜å·®è·ç¦»ä¸ºï¼š\n\n\\lVert \\mu-v \\rVert_{TV}=\\underset{A\\subset{E}}{\\sup}{\\lvert \\mu(A)-v(A) \\rvert}"},{"title":"Yolo","url":"/2022/04/30/Yolo/","content":"IoUï¼ˆIntersection over unionï¼‰\näº¤å¹¶æ¯”ï¼Œè¡¡é‡ä¸¤ä¸ªåŒºåŸŸçš„é‡å ç¨‹åº¦ï¼Œæ˜¯äºŒè€…é‡å éƒ¨åˆ†é¢ç§¯å äºŒè€…æ€»é¢ç§¯çš„æ¯”ä¾‹\n\n\nåœ¨ç›®æ ‡æ£€æµ‹ä»»åŠ¡ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æ¨¡å‹è¾“å‡ºçš„çŸ©å½¢æ¡†ä¸æˆ‘ä»¬äººå·¥æ ‡æ³¨çš„çŸ©å½¢æ¡†çš„IoUå€¼å¤§äºæŸä¸ªé˜ˆå€¼æ—¶ï¼ˆé€šå¸¸ä¸º0.5ï¼‰å³è®¤ä¸ºæˆ‘ä»¬çš„æ¨¡å‹è¾“å‡ºäº†æ­£ç¡®çš„\nPrecision &amp; Recallå‡è®¾æˆ‘ä»¬æœ‰ä¸€ç»„å›¾ç‰‡ï¼Œé‡Œé¢æœ‰è‹¥å¹²å¾…æ£€æµ‹çš„ç›®æ ‡ï¼Œ\nPrecisionå°±ä»£è¡¨æˆ‘ä»¬æ¨¡å‹æ£€æµ‹å‡ºæ¥çš„ç›®æ ‡æœ‰å¤šå¤§æ¯”ä¾‹æ˜¯çœŸæ­£çš„ç›®æ ‡ç‰©ä½“ï¼Œ\nRecallå°±ä»£è¡¨æ‰€æœ‰çœŸå®çš„ç›®æ ‡æœ‰å¤šå¤§æ¯”ä¾‹è¢«æˆ‘ä»¬çš„æ¨¡å‹æ£€æµ‹å‡ºæ¥äº†ã€‚\n\nTP ï¼šæ¨¡å‹é¢„æµ‹ä¸ºæŸç±»ç‰©å“ï¼ˆæ£€æµ‹å‡ºçš„çŸ©å½¢æ¡†å¤§äºç½®ä¿¡åº¦é˜ˆå€¼ï¼‰ä¸”ä¸æ•°æ®é›†æ ‡æ³¨ä¸­æŸä¸ªç›®æ ‡æ¡†IOUå¤§äº0.5\nTN ï¼šæ¨¡å‹é¢„æµ‹ä¸ä¸ºæŸç±»ç‰©å“ï¼ˆæ£€æµ‹å‡ºçš„çŸ©å½¢æ¡†å°äºç½®ä¿¡åº¦é˜ˆå€¼ï¼‰ä½†ä¸æ•°æ®é›†æ ‡æ³¨ä¸­æŸä¸ªç›®æ ‡æ¡†IOUå¤§äº0.5\nFP ï¼šæ¨¡å‹é¢„æµ‹ä¸ºæŸç±»ç‰©å“ï¼Œä½†ä¸æ•°æ®é›†æ ‡æ³¨ä¸­æ‰€æœ‰ç›®æ ‡æ¡†IOUå‡å¤§äº0.5ï¼ˆé‡å¤æ£€æµ‹ï¼‰\nFN ï¼šæ¨¡å‹é¢„æµ‹ä¸ä¸ºæŸç±»ç‰©å“ï¼Œä¸”ä¸æ•°æ®é›†ä¸­æ‰€æœ‰ç›®æ ‡æ¡†IOUå‡å¤§äº0.5\n\nå‡†ç¡®ç‡ï¼š æ¨¡å‹æ£€æµ‹å‡ºçš„ç‰©å“ä¸­æ­£ç¡®çš„æ¯”ä¾‹\n\nå¬å›ç‡ï¼š æ‰€æœ‰æ­£ç¡®çš„ç›®æ ‡ä¸­è¢«æ¨¡å‹æ£€æµ‹å‡ºæ¥çš„æ¯”ä¾‹\n\nPRæ›²çº¿\næˆ‘ä»¬å½“ç„¶å¸Œæœ›æ£€æµ‹çš„ç»“æœPè¶Šé«˜è¶Šå¥½ï¼ŒRä¹Ÿè¶Šé«˜è¶Šå¥½ï¼Œä½†äº‹å®ä¸Šè¿™ä¸¤è€…åœ¨æŸäº›æƒ…å†µä¸‹æ˜¯çŸ›ç›¾çš„ã€‚æ¯”å¦‚æç«¯æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªæ£€æµ‹å‡ºäº†ä¸€ä¸ªç»“æœï¼Œä¸”æ˜¯å‡†ç¡®çš„ï¼Œé‚£ä¹ˆPrecisionå°±æ˜¯100%ï¼Œä½†æ˜¯Recallå°±å¾ˆä½ï¼›è€Œå¦‚æœæˆ‘ä»¬æŠŠæ‰€æœ‰ç»“æœéƒ½è¿”å›ï¼Œé‚£ä¹ˆå¿…ç„¶Recallå¿…ç„¶å¾ˆå¤§ï¼Œä½†æ˜¯Precisionå¾ˆä½ã€‚\nå› æ­¤åœ¨ä¸åŒçš„åœºåˆä¸­éœ€è¦è‡ªå·±åˆ¤æ–­å¸Œæœ›Pæ¯”è¾ƒé«˜è¿˜æ˜¯Ræ¯”è¾ƒé«˜ã€‚å¦‚æœæ˜¯åšå®éªŒç ”ç©¶ï¼Œå¯ä»¥ç»˜åˆ¶Precision-Recallæ›²çº¿æ¥å¸®åŠ©åˆ†æã€‚\n\n\nAP (Average Precision)AP = \nåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸ç›´æ¥å¯¹è¯¥PRæ›²çº¿è¿›è¡Œè®¡ç®—ï¼Œè€Œæ˜¯å¯¹PRæ›²çº¿è¿›è¡Œå¹³æ»‘å¤„ç†ã€‚å³å¯¹PRæ›²çº¿ä¸Šçš„æ¯ä¸ªç‚¹ï¼ŒPrecisionçš„å€¼å–è¯¥ç‚¹å³ä¾§æœ€å¤§çš„Precisionçš„å€¼ã€‚\nï¼Ÿ\nYolov1\nå°†ç›®æ ‡æ£€æµ‹é—®é¢˜è½¬åŒ–ä¸ºä¸€ä¸ªå›å½’é—®é¢˜è¿›è¡Œæ±‚è§£ï¼Œä¹Ÿå°±æ˜¯è¯´å°†å›¾åƒä½œä¸ºè¾“å…¥ï¼ˆåƒç´ æ•°æ®ï¼‰ï¼Œç›´æ¥è¾“å‡ºç‰©ä½“çš„ä½ç½®å’Œæ‰€å±äºçš„ç±»åˆ«çš„ç½®ä¿¡åº¦ï¼ˆæ˜¯ä»¥ä¸€ä¸ªå‘é‡çš„å½¢å¼è¡¨ç¤ºçš„ï¼Œåç»­ä¼šä»‹ç»ï¼‰ï¼Œå±äºç«¯åˆ°ç«¯çš„æ¨¡å‹å½¢å¼ã€‚\n\nåŸºæœ¬æ€æƒ³ï¼šå°†å›¾ç‰‡åˆ’åˆ†ä¸ºS*Sä¸ªåŒºåŸŸï¼ˆgridcellï¼‰ï¼Œå‡è®¾éƒ½å­˜åœ¨ä¸€ä¸ª true answer ä¹Ÿå°±æ˜¯é’ˆå¯¹è¿™ä¸ªç›®æ ‡çš„æœ€å¥½çš„æ£€æµ‹æ¡† ï¼Œ åˆ™æ¯ä¸€ä¸ªç›®æ ‡çš„æ£€æµ‹æ¡†çš„ä¸­å¿ƒç‚¹ä¸€å®šæ˜¯è½åœ¨æŸä¸€ä¸ªå°åŒºåŸŸå†…çš„ï¼›å¦‚æœæ­¤æ—¶çš„ä¸­å¿ƒç‚¹è½åœ¨ x æ¡†å†…ï¼Œåˆ™ x å°åŒºåŸŸå°±è´Ÿè´£æå®šè¿™ä¸ªç›®æ ‡ï¼›æ³¨æ„æ­¤æ—¶å¯èƒ½å¤šä¸ªç›®æ ‡è½åœ¨åŒä¸€ä¸ªåŒºåŸŸå†…ã€‚\næ¯ä¸€ä¸ªå°åŒºåŸŸè®¾å®š B ï¼ˆbounding boxçš„æ•°é‡ï¼‰ä¸ªå¯èƒ½çš„å€™é€‰æ¡†ï¼Œå¹¶è®¡ç®—æ¯ä¸€ä¸ªå¯èƒ½çš„å€™é€‰æ¡†çš„å¾—åˆ† = ç½®ä¿¡åº¦ï¼Œæ˜¯ä¸€ä¸ªï¼ˆè¯¥å€™é€‰æ¡†å’ŒçœŸå®çš„ç›®æ ‡æ£€æµ‹æ¡†çš„é‡åˆç¨‹åº¦ï¼‰å’Œï¼ˆè¿™ä¸ªæ¡†é‡Œç¡®å®æ¡†ä½äº†æŸä¸€ä¸ªç‰©ä½“ï¼‰çš„ç»¼åˆåº¦é‡æŒ‡æ ‡ï¼Œè®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼š\nï¼ˆï¼‰\nå…¶ä¸­ï¼Œè‹¥bounding boxåŒ…å«ç‰©ä½“ï¼Œåˆ™P(object) = 1ï¼›å¦åˆ™P(object) = 0\næ¯ä¸€ä¸ªé¢„æµ‹æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 5 çš„å‘é‡ï¼Œè®°ä½œ ï¼ˆx, y, w, h, confï¼‰\n\n(x, y) è¡¨ç¤ºå½“å‰é¢„æµ‹çš„æ£€æµ‹æ¡†çš„ä¸­å¿ƒç›¸å¯¹äºæˆ‘çš„å°åŒºåŸŸçš„ä½ç½®ï¼ˆå…±  ä¸ªå°åŒºåŸŸ)ï¼Œè¿™é‡Œçš„ x å’Œ y éƒ½æ˜¯ 0-1 ä¹‹é—´çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯ç›¸å¯¹äºå½“å‰å°åŒºåŸŸçš„å·¦ä¸Šè§’çš„åç§»å€¼\n(w,h) è¡¨ç¤ºæ£€æµ‹æ¡†çš„å®½åº¦å’Œé«˜åº¦ï¼Œä¸€èˆ¬æ˜¯å¤„ç†åˆ° 0-1 ä¹‹é—´ï¼Œæ ‡è®°å½“å‰çš„é¢„æµ‹æ¡†å’Œæ•´ä¸ªå›¾ç‰‡çš„å®½åº¦/é«˜åº¦çš„æ¯”ä¾‹ - conf ä¸ºä¸Šè¿°çš„ç½®ä¿¡åº¦ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å½“å‰çš„æ¡†çš„å¯ä¿¡åº¦çš„ç»¼åˆæŒ‡æ ‡ï¼Œç”±ï¼ˆæ˜¯å¦æ¡†å‡†äº† = æ˜¯å¦å’ŒçœŸå®çš„é¢„æµ‹æ¡†æœ‰è¾ƒå¥½çš„é‡åˆï¼‰å’Œï¼ˆæ˜¯å¦æ¡†é‡Œç¡®å®æ¡†ä½äº†ç‰©ä½“ï¼‰ä¸¤ä¸ªéƒ¨åˆ†å½±å“\n\nç½‘ç»œç»“æ„\nOur detection network has 24 convolutional layers followed by 2 fully connected layers. Alternating 1 Ã— 1 convolutional layers reduce the features space from preceding layers. We pretrain the convolutional layers on the ImageNet classifification task at half the resolution (224 Ã— 224 input image) and then double the resolution for detection.\n\nYOLOç½‘ç»œå€Ÿé‰´äº†GoogLeNetåˆ†ç±»ç½‘ç»œç»“æ„ã€‚ ç½‘ç»œæœ‰24ä¸ªå·ç§¯å±‚ï¼Œå…¶åæ˜¯2ä¸ªå®Œå…¨è¿æ¥çš„å±‚ï¼Œä¸åŒçš„æ˜¯ï¼ŒYOLOæœªä½¿ç”¨inception moduleï¼Œè€Œæ˜¯ä½¿ç”¨1x1å·ç§¯å±‚ï¼ˆæ­¤å¤„1x1å·ç§¯å±‚çš„å­˜åœ¨æ˜¯ä¸ºäº†è·¨é€šé“ä¿¡æ¯æ•´åˆï¼‰+3x3å·ç§¯å±‚ç®€å•æ›¿ä»£ã€‚æœ€ç»ˆè¾“å‡ºçš„æ˜¯7x7x30çš„å¼ é‡çš„é¢„æµ‹å€¼\n\næŸå¤±å‡½æ•°ä½¿ç”¨å‡æ–¹å’Œè¯¯å·®ä½œä¸ºlosså‡½æ•°æ¥ä¼˜åŒ–æ¨¡å‹å‚æ•°ï¼Œå³ç½‘ç»œè¾“å‡ºçš„SxSx(Bx5 + C)ç»´å‘é‡ä¸çœŸå®å›¾åƒçš„å¯¹åº”SxSx(Bx5 + C)ç»´å‘é‡çš„å‡æ–¹å’Œè¯¯å·®ã€‚\n\nNMS æ–¹æ³•ï¼ˆNon-Maximal Suppression / éæå¤§å€¼æŠ‘åˆ¶ï¼‰\nå°†åŒä¸€ç›®æ ‡å†…çš„bboxesæŒ‰ç…§cls score + IoUé˜ˆå€¼åšç­›é€‰ï¼Œå‰”é™¤å†—ä½™åœ°ã€ä½ç½®ä¿¡åº¦çš„bbox\n\nå…·ä½“å®ç°æ€è·¯å¦‚ä¸‹ï¼š\n\né€‰å–æ­¤ç±»ç‰©å“boxä¸­ç½®ä¿¡åº¦æœ€é«˜çš„box\nè®¡ç®—ä¸å…¶ä½™æ­¤ç±»boxçš„IOU\nIOU&gt;nms_thresholdåˆ™å»é™¤ç½®ä¿¡åº¦å°çš„é‚£ä¸ªbox\nä»å‰©ä½™boxä¸­å†é€‰å–ç½®ä¿¡åº¦æœ€é«˜çš„boxï¼Œå¦‚æ­¤å¾ªç¯\n\n"},{"title":"jetsoné…ç½®æ—¥å¿—","url":"/2022/04/16/jetson%E9%85%8D%E7%BD%AE%E6%97%A5%E5%BF%97/","content":"jetson nano aptæ›´æ¢å›½å†…æºå¤‡ä»½source.listæ–‡ä»¶\nsudo cp /etc/apt/sources.list /etc/apt/sources.list.bak  \nä¿®æ”¹source.listæ–‡ä»¶\nsudo vim /etc/apt/sources.list\nåˆ é™¤æ‰€æœ‰å†…å®¹ï¼Œå¹¶å¤åˆ¶ï¼š\ndeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main multiverse restricted universedeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main multiverse restricted universedeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main multiverse restricted universedeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main multiverse restricted universedeb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main multiverse restricted universedeb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main multiverse restricted universedeb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main multiverse restricted universedeb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main multiverse restricted universe\næ³¨æ„armæ¶æ„ä¸‹çš„aptæºä¸æ™®é€šçš„ubuntuä¸ç›¸åŒ\nthen\nsudo apt-get updatesudo apt-get upgrade\njtopå®‰è£…å…ˆå®‰è£…pip\nsudo apt-get install python3-pip\nthen\nsudo pip3 install jetson-stats -i https://pypi.tuna.tsinghua.edu.cn/simple\nsudo jtop # æ‰“å¼€jtop\nzerotierå®‰è£…ä½¿ç”¨ï¼ˆå†…ç½‘ç©¿é€ï¼‰å®‰è£…å‘½ä»¤\ncurl -s  https://install.zerotier.com  | sudo bash\nåŠ å…¥ç½‘ç»œ\nsudo zerotier-cli join xxxxxxxxxxxxxxxx\nç¦»å¼€ç½‘ç»œ\nsudo zerotier-cli leave xxxxxxxxxxxxxxxx\nå¯åŠ¨\nsudo systemctl start zerotier-one.service\nè®¾ç½®å¼€æœºè‡ªå¯\nsudo systemctl enable zerotier-one.service\nminifoege å®‰è£…https://github.com/conda-forge/miniforge\nåœ¨jetson nanoä¸­é€‰æ‹©Mambaforgeæ—¶ å‡ºç°äº†pip æ— æ³•ä½¿ç”¨ illegal instruction(core dumped) çš„é—®é¢˜\nå®‰è£…miniforgeååœ¨è™šæ‹Ÿç¯å¢ƒä¸­å‡ºç°åŒæ ·é—®é¢˜ï¼Œ ä½†èƒ½åœ¨baseç¯å¢ƒä¸‹æ­£å¸¸ä½¿ç”¨pip\næ‰€ä»¥é€‰æ‹©ä½¿ç”¨å®ƒ\n\nåœ¨Miniforge-Linux-aarch64.shæ‰€åœ¨æ–‡ä»¶å¤¹æ‰“å¼€ç»ˆç«¯\næ‰§è¡Œ\nbash Miniforge-Linux-aarch64.sh\nå…¨yeså³å¯\ncondaæ›´æ¢å›½å†…é•œåƒæºé…ç½®æ¸…åæºï¼š\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/#è®¾ç½®æœç´¢æ—¶æ˜¾ç¤ºé€šé“åœ°å€conda config --set show_channel_urls yes\nå¯æ‰§è¡Œconda config â€”show channelsæ˜¾ç¤ºå·²æ·»åŠ çš„æº\npipæ›´æ¢å›½å†…é•œåƒæºç¼–è¾‘pipé…ç½®æ–‡ä»¶ï¼š\nmkdir ~/.pipvim ~/.pip/pip.conf\næ·»åŠ å†…å®¹ä¸ºï¼š\n[global]index-url = https://pypi.tuna.tsinghua.edu.cn/simple[install]trusted-host = https://pypi.tuna.tsinghua.edu.cn\ncondaæ›´æ”¹baseç¯å¢ƒä¸‹pythonç‰ˆæœ¬conda install python=&lt;ç‰ˆæœ¬å·&gt;\nï¼ˆçœ‹ç½‘ä¸Šéƒ½æ˜¯è¿™ä¹ˆå¹²çš„ï¼Œ ä½†ç”±äºæˆ‘ä»¬æƒ³æ¢ç‰ˆæœ¬æ—¶å·²ç»æ— æ„ä¸­åœ¨baseç¯å¢ƒä¸‹ä¸‹è½½äº†å¾ˆå¤šåŒ…ï¼Œ æ‰€ä»¥ç”±äºä¾èµ–é—®é¢˜è¿™æ ·ä¼šæŠ¥é”™ï¼‰\nconda clean -a # åˆ é™¤æ‰€æœ‰åŒ…\njetson nano å’Œ jetson nx é…ç½® cudajetson nano ä¸ nx å·²ç»å†…ç½®å¥½äº†cudaï¼Œ ä½†éœ€è¦é…ç½®ç¯å¢ƒå˜é‡æ‰èƒ½ä½¿ç”¨\nvim ~/.bashrc\nåœ¨.bashrcæ–‡ä»¶ä¸­æ·»åŠ ï¼š\nexport PATH=/usr/local/cuda-10.2/bin:$PATHexport LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATHexport CUDA_HOME=/usr/local/cuda-10.2export OPENBLAS_CORETYPE=ARMV8\t\t\t# æ®è¯´ä¸åŠ çš„è¯ï¼Œè¿è¡Œç›¸å…³çš„é¡¹ç›®ä¼šå†…æ ¸å´©æ‰ï¼ˆbutåœ¨æˆ‘é…ç½®nanoç¯å¢ƒæ—¶å³ä½¿åŠ ä¸Šä¹Ÿæ— æµäºäº‹ï¼‰\nå†æ¬¡æ‰§è¡Œï¼š\nsource ~/.bashrc\næœ€åè¾“å…¥nvcc -V æµ‹è¯•ç¯å¢ƒå˜é‡æ˜¯å¦è®¾ç½®æ­£ç¡®\ncv2, torchç­‰ç”±äºnumpyé—®é¢˜æŠ¥é”™illegal instruction(core dumped)æˆ‘ä»¬ä¸‹è½½çš„numpyç‰ˆæœ¬æ˜¯1.19.5\nåœ¨baseç¯å¢ƒä¸­æµ‹è¯•äº†å‡ ä¸ªç‰ˆæœ¬å‘ç°éƒ½æ²¡æœ‰é—®é¢˜\näºæ˜¯æ¢äº†ä¸ªnumpyç‰ˆæœ¬å°±è§£å†³äº†ï¼ˆå¤§æ¦‚æ˜¯1.19.5ç‰ˆæœ¬çš„numpyåœ¨armæ¶æ„ä¸‹å‡ºäº†ç‚¹é—®é¢˜ï¼‰\nåœ¨linuxä¸‹ä½¿ç”¨opencvæ— æ³•æ‰“å¼€æ‘„åƒå¤´é—®é¢˜[ WARN:0] global /io/opencv/modules/videoio/src/cap_v4l.cpp (893) open VIDEOIO(V4L2:/dev/video0): canâ€™t open camera by indexå‘ç°æ˜¯é‡å¤è°ƒç”¨æ‘„åƒå¤´å¯¼è‡´çš„ï¼š\nä¸¤æ¬¡ä½¿ç”¨äº†cv2.VideoCapture(0)\nåˆ å»ä¸€ä¸ªå°±å¯ä»¥äº†\né™¤æ­¤ä¹‹å¤–è¿˜é‡åˆ°äº†å¦ä¸€ä¸ªæŠ¥é”™ä»¤ä»£ç æ— æ³•è¿è¡Œï¼ˆå¿˜è®°è®°å½•äº†ï¼‰ï¼ŒåŸå› æ˜¯opencvç‰ˆæœ¬å¤ªé«˜ï¼Œ é™äº†å‡ ä¸ªç‰ˆæœ¬å°±è§£å†³äº†\næŠ¥é”™This plugin does not support propagateSizeHints()ï¼Œ å›¾å½¢ç•Œé¢æ§ä»¶æ¶ˆå¤±ç½‘ä¸Šçš„è§£å†³æ–¹æ¡ˆéƒ½å¥‡å¥‡æ€ªæ€ªçš„ï¼ˆæˆ‘çœ‹ä¸æ˜ç™½ï¼‰\nåœ¨ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œä»£ç åç¥å¥‡çš„æˆåŠŸäº†\nsudo python main.py\npyside2çš„å®‰è£…åœ¨ç½‘ä¸Šæ²¡æœ‰æ‰¾åˆ°æ”¯æŒarmæ¶æ„çš„pyside2 whlå®‰è£…åŒ…\næ‰€ä»¥æˆ‘ä»¬è‡ªå·±ç¼–è¯‘äº†pyside2\ndlibå®‰è£…torchå’Œtorchvisionçš„å®‰è£…"},{"title":"pytorch ç¬”è®°","url":"/2022/04/24/pytorch%E7%AC%94%E8%AE%B0/","content":"ä¸€.å¼ é‡1.å¼ é‡çš„æ•°æ®ç±»å‹\n\né»˜è®¤æ•°æ®ç±»å‹ä¸º 32 ä½æµ®ç‚¹å‹\n\ntorch.set_default_tensor_type()å‡½æ•°å¯è®¾ç½®é»˜è®¤çš„å¼ é‡æ•°æ®ç±»å‹\n\na.long()  a.int()  a.float()æ–¹æ³•\n\n2.å¼ é‡çš„ç”Ÿæˆ(1)åˆ—è¡¨æˆ–åºåˆ—å¯é€šè¿‡torch.tensor()å‡½æ•°æ„é€ å¼ é‡\n\n\n.shape .size .numel()æ–¹æ³•\na  = torch.randn((2,3,5),dtype = torch.float32)print(a.shape)#æ‰“å°â€œtorch.Size([2,3,5])â€ä¸éœ€è¦åŠ æ‹¬å·ï¼Œç›´æ¥è®¿é—®æˆå‘˜å±æ€§ï¼Œè¿”å›çš„æ˜¯ torch.Size ç±»å¯¹è±¡ï¼Œprint(a.shape[1])#å¯ä»¥ä½¿ç”¨[]ç´¢å¼•è®¿é—®ï¼Œæ‰€ä»¥ size å±æ€§æ˜¯ä¸€ä¸ªè¿­ä»£å™¨print(a.size())#æ‰“å°â€œtorch.Size([2,3,5])â€,ä¸ shape å±æ€§ä¸€è‡´print(a.size(1))#å¯ä¼ å…¥å‚æ•°ï¼Œè¿”å› 3ï¼Œå³ç¬¬ i ç»´çš„ä¸ªæ•°print(a.numel)#è¿”å› 30ï¼Œè®¡ç®—å¼ é‡ä¸­åŒ…å«å…ƒç´ æ•°é‡\né€šè¿‡torch.tensor()å‡½æ•°æ„é€ å¼ é‡å¯ä½¿ç”¨dtypeå‚æ•°æŒ‡å®šæ•°æ®ç±»å‹ï¼Œä½¿ç”¨ requires_grad æ¥æŒ‡å®šæ˜¯å¦éœ€è¦è®¡ç®—æ¢¯åº¦\n(2)torch.Tensor()â€”â€”â€”â€”â€”â€”ä¸€ä¸ªç±»\n\nå¯ä»¥ç”ŸæˆæŒ‡å®šå½¢çŠ¶çš„å¼ é‡\n\n(3)torch.from_numpy(ndarray)  torch.as_tensor()\n\n\n(4)ä¾æ®æ•°å€¼åˆ›å»º\n\n\n\n\n\n\n\n\n\ntorch.empty()â€”â€”â€”â€”è¿”å›å¡«å……æœ‰æœªåˆå§‹åŒ–æ•°æ®çš„å¼ é‡ï¼Œå¼ é‡çš„å½¢çŠ¶ç”±å¯å˜çš„å‚æ•°å¤§å°å®šä¹‰\n&gt;&gt;&gt; torch.empty(2, 3)tensor(1.00000e-08 *       [[ 6.3984,  0.0000,  0.0000],        [ 0.0000,  0.0000,  0.0000]])\n(5)ä¾æ®æ¦‚ç‡åˆ†å¸ƒåˆ›å»ºå¼ é‡\ntorch.manual_seed()â€”â€”â€”â€”â€”â€”æŒ‡å®šç”Ÿæˆéšæœºæ•°ç§å­\n\n \n\n\n3.å¼ é‡çš„æ“ä½œï¼ˆ1ï¼‰å¼ é‡çš„æ‹¼æ¥ä¸åˆ‡åˆ†\ntorch.stack()ä¼šæ‹“å±•å¼ é‡ç»´åº¦\n\n\nï¼ˆ2ï¼‰å¼ é‡ç´¢å¼•\n==æ³¨æ„ index å‚æ•°çš„æ•°æ®ç±»å‹å¿…é¡»æ˜¯ torch.long==\nä¾‹\n\nï¼ˆå¯¹ç¬¬ 0 ç»´åº¦è¿›è¡Œç´¢å¼•ï¼ˆç›¸å½“äºç´¢å¼•ç¬¬ä¸€ç»´åº¦ï¼‰ï¼‰\n\nï¼ˆ3ï¼‰å¼ é‡å˜æ¢\n\n\n\n==æ³¨æ„ reshape å…±äº«æ•°æ®å†…å­˜==\n\n\nå¦‚å›¾ï¼š\n\n\n\næ²¿ç€æŒ‡å®šçš„ç»´åº¦é‡å¤ tensorã€‚ä¸åŒä¸ expand()ï¼Œæœ¬å‡½æ•°å¤åˆ¶çš„æ˜¯ tensor ä¸­çš„æ•°æ®ã€‚æ‰©å±•ï¼ˆexpandï¼‰å¼ é‡ä¸ä¼šåˆ†é…æ–°çš„å†…å­˜ï¼Œåªæ˜¯åœ¨å­˜åœ¨çš„å¼ é‡ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„è§†å›¾ï¼ˆviewï¼‰ï¼Œä¸€ä¸ªå¤§å°ï¼ˆsizeï¼‰ç­‰äº 1 çš„ç»´åº¦æ‰©å±•åˆ°æ›´å¤§çš„å°ºå¯¸ã€‚repeat æ²¿ç€ç‰¹å®šçš„ç»´åº¦é‡å¤è¿™ä¸ªå¼ é‡ï¼Œå’Œ expand()ä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªå‡½æ•°æ‹·è´å¼ é‡çš„æ•°æ®ã€‚\n\n\nï¼ˆ4ï¼‰å¼ é‡æ•°å­¦è¿ç®—\n\n\n\n\nçœŸå¤šå•ŠÂ·Â·Â·Â·Â·Â·ç”¨åˆ°å†æŸ¥å­ã€‚\näºŒ.pytorch ä¸­çš„è‡ªåŠ¨æ±‚å¯¼å°†å¼ é‡çš„requires_grad å‚æ•°è®¾ä¸º Ture å¯è‡ªåŠ¨æ±‚å¯¼å¾—åˆ°å…¶æ¢¯åº¦\n\nTensor()ç±»çš„é‡è¦å±æ€§ï¼š\n\nåœ¨ Pytorch ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œéå¶èŠ‚ç‚¹çš„æ¢¯åº¦å€¼åœ¨åå‘ä¼ æ’­è¿‡ç¨‹ä¸­ä½¿ç”¨å®Œåå°±ä¼šè¢«æ¸…é™¤ï¼Œä¸ä¼šè¢«ä¿ç•™ã€‚åªæœ‰å¶å­èŠ‚ç‚¹çš„æ¢¯åº¦å€¼èƒ½å¤Ÿè¢«ä¿ç•™ä¸‹æ¥\n\nretain_grad()å¯ä¿å­˜éå¶å­èŠ‚ç‚¹æ¢¯åº¦\n\ngrad_fnï¼šè®°å½•åˆ›å»ºè¯¥å¼ é‡æ—¶æ‰€ç”¨çš„æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰\nprint(&quot;grad_fn:&quot;, w.grad_fn, x.grad_fn, a.grad_fn, b.grad_fn, y.grad_fn)# Outï¼šgrad_fn: None None &lt;AddBackward0 object at 0x000001C04BB24788&gt; &lt;AddBackward0 object at 0x000001C04605D188&gt; &lt;MulBackward0 object at 0x000001C04605D1C8&gt;\nautogradtorch.autograd.backwardå¼ é‡ä¸­çš„ backward()æ–¹æ³•ç›´æ¥è°ƒç”¨äº† torch.autograd.backward()\n\nretain_graphå‚æ•°è®¾ç½®ä¸º Trueï¼Œå¾—ä»¥è¿›è¡Œä¸¤æ¬¡åå‘ä¼ æ’­\n\ngrad_tensorså‚æ•°ç”¨äºå¤šæ¢¯åº¦æƒé‡çš„è®¾ç½®\nw = torch.tensor([1.], requires_grad=True)    x = torch.tensor([2.], requires_grad=True)    a = torch.add(w, x)     # retain_grad()    b = torch.add(w, 1)    y0 = torch.mul(a, b)    # y0 = (x+w) * (w+1)    y1 = torch.add(a, b)    # y1 = (x+w) + (w+1)    dy1/dw = 2    loss = torch.cat([y0, y1], dim=0)       # [y0, y1]    grad_tensors = torch.tensor([1., 1.])    # grad_tensors = torch.tensor([1., 2.])    loss.backward(gradient=grad_tensors)    # gradient ä¼ å…¥ torch.autograd.backward()ä¸­çš„ grad_tensors    print(w.grad)    outï¼š7 # 9\ntorch.autograd.grad\ncreate_graph   åˆ›å»ºå¯¼æ•°è®¡ç®—å›¾ï¼Œç”¨äºé«˜é˜¶æ±‚å¯¼\n\nautograd å°è´´å£«ï¼š1.æ¢¯åº¦ä¸è‡ªåŠ¨æ¸…é›¶\n\nä½¿ç”¨grad.zero_()  å¯¹æ¢¯åº¦æ¸…é›¶\n\n2.ä¾èµ–äºå¶å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼Œ requires_grad é»˜è®¤ä¸º True\n\n3.å¶å­èŠ‚ç‚¹ä¸å¯æ‰§è¡Œ in-place æ“ä½œ\n\nå¯çŸ¥+=æ“ä½œæ—¶ä¸æ”¹å˜å†…å­˜åœ°å€ï¼Œä¸º in-place æ“ä½œï¼Œä¸å¯å¯¹å¶å­èŠ‚ç‚¹æ‰§è¡Œ\n\nä¸‰.torch.nn æ¨¡å—å®¹å™¨\n\n\nå·ç§¯å±‚\n# ä»¥ torch.nn.Conv2d()ä¸ºä¾‹ï¼Œ ä»‹ç»å·ç§¯å†å›¾åƒä¸Šçš„ä½¿ç”¨æ–¹æ³•ï¼Œå…¶è°ƒç”¨æ–¹å¼ä¸ºï¼štorch.nn.Conv2d(in_channels,               out_channels,               kernel_size,               stride=1,               padding=0,               dilation=1,               groups=1,               bias=True)\n\nimport numpy as npimport torchimport torch.nn as nnimport matplotlib.pyplot as pltfrom PIL import Imagemyim = Image.open(&quot;lenna.jpg&quot;)myimgray = np.array(myim.convert(&quot;L&quot;), dtype=np.float32)imh, imw = myimgray.shapemyimgray_t = torch.from_numpy(myimgray.reshape((1, 1, imh, imw)))kersize = 5ker = torch.ones(kersize, kersize, dtype=torch.float32)*-1ker[2, 2] = 24ker = ker.reshape((1, 1, kersize, kersize))conv2d = nn.Conv2d(1, 2, (kersize, kersize), bias = False)conv2d.weight.data[0] = kerimconv2dout = conv2d(myimgray_t)imconv2dout_im = imconv2dout.data.squeeze()plt.figure(figsize=(12, 6))plt.imshow(imconv2dout_im[0], cmap=plt.cm.gray)plt.axis(&quot;off&quot;)plt.show()\n\nå¯è§ä½¿ç”¨è¾¹ç¼˜ç‰¹å¾æå–å·ç§¯æ ¸å¾ˆå¥½çš„æå–å‡ºäº†å›¾åƒçš„è¾¹ç¼˜ä¿¡æ¯\næ± åŒ–å±‚\n\n\næ¿€æ´»å‡½æ•°\nå…¨è¿æ¥å±‚\nå››.pytorch ä¸­çš„æ•°æ®æ“ä½œä¸é¢„å¤„ç†\nDataloader\nDataset\ntransforms\ncrop\n\n\n\n\nflip\nrotation\n\n\n\n\n\n\ntransforms çš„æ“ä½œ\nè‡ªå®šä¹‰ transforms\næ­£æ€åˆ†å¸ƒä¸å¹³æ–¹æŸå¤±æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹å™ªå£°åˆ†å¸ƒçš„å‡è®¾æ¥è§£è¯»å¹³æ–¹æŸå¤±ç›®æ ‡å‡½æ•°ã€‚\næ­£æ€åˆ†å¸ƒå’Œçº¿æ€§å›å½’ä¹‹é—´çš„å…³ç³»å¾ˆå¯†åˆ‡ã€‚ æ­£æ€åˆ†å¸ƒï¼ˆnormal distributionï¼‰ï¼Œä¹Ÿç§°ä¸ºé«˜æ–¯åˆ†å¸ƒï¼ˆGaussian distributionï¼‰ï¼Œ æœ€æ—©ç”±å¾·å›½æ•°å­¦å®¶é«˜æ–¯ï¼ˆGaussï¼‰åº”ç”¨äºå¤©æ–‡å­¦ç ”ç©¶ã€‚ ç®€å•çš„è¯´ï¼Œè‹¥éšæœºå˜é‡ xx å…·æœ‰å‡å€¼Î¼Î¼å’Œæ–¹å·®Ïƒ2Ïƒ2ï¼ˆæ ‡å‡†å·®ÏƒÏƒï¼‰ï¼Œå…¶æ­£æ€åˆ†å¸ƒæ¦‚ç‡å¯†åº¦å‡½æ•°å¦‚ä¸‹ï¼š\n(3.1.11)\np(x)=12Ï€Ïƒ2âˆ’âˆ’âˆ’âˆ’âˆšexp(âˆ’12Ïƒ2(xâˆ’Î¼)2).p(x)=12Ï€Ïƒ2expâ¡(âˆ’12Ïƒ2(xâˆ’Î¼)2).\nä¸‹é¢æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª Python å‡½æ•°æ¥è®¡ç®—æ­£æ€åˆ†å¸ƒã€‚\ndef normal(x, mu, sigma):    p = 1 / math.sqrt(2 * math.pi * sigma**2)    return p * np.exp(-0.5 / sigma**2 * (x - mu)**2)\næˆ‘ä»¬ç°åœ¨å¯è§†åŒ–æ­£æ€åˆ†å¸ƒã€‚\n# å†æ¬¡ä½¿ç”¨ numpy è¿›è¡Œå¯è§†åŒ–x = np.arange(-7, 7, 0.01)# å‡å€¼å’Œæ ‡å‡†å·®å¯¹params = [(0, 1), (0, 2), (3, 1)]d2l.plot(x, [normal(x, mu, sigma) for mu, sigma in params], xlabel=&#x27;x&#x27;,         ylabel=&#x27;p(x)&#x27;, figsize=(4.5, 2.5),         legend=[f&#x27;mean &#123;mu&#125;, std &#123;sigma&#125;&#x27; for mu, sigma in params])\n\nå°±åƒæˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œæ”¹å˜å‡å€¼ä¼šäº§ç”Ÿæ²¿ xx è½´çš„åç§»ï¼Œå¢åŠ æ–¹å·®å°†ä¼šåˆ†æ•£åˆ†å¸ƒã€é™ä½å…¶å³°å€¼ã€‚\nå‡æ–¹è¯¯å·®æŸå¤±å‡½æ•°ï¼ˆç®€ç§°å‡æ–¹æŸå¤±ï¼‰å¯ä»¥ç”¨äºçº¿æ€§å›å½’çš„ä¸€ä¸ªåŸå› æ˜¯ï¼š æˆ‘ä»¬å‡è®¾äº†è§‚æµ‹ä¸­åŒ…å«å™ªå£°ï¼Œå…¶ä¸­å™ªå£°æœä»æ­£æ€åˆ†å¸ƒã€‚ å™ªå£°æ­£æ€åˆ†å¸ƒå¦‚ä¸‹å¼ï¼š\n(3.1.12)\ny=wâŠ¤x+b+Ïµ,y=wâŠ¤x+b+Ïµ,\nå…¶ä¸­ï¼ŒÏµâˆ¼N(0,Ïƒ2)Ïµâˆ¼N(0,Ïƒ2)ã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥å†™å‡ºé€šè¿‡ç»™å®šçš„ xx è§‚æµ‹åˆ°ç‰¹å®š yy çš„ä¼¼ç„¶ï¼ˆlikelihoodï¼‰ï¼š\n(3.1.13)\nP(yâˆ£x)=12Ï€Ïƒ2âˆ’âˆ’âˆ’âˆ’âˆšexp(âˆ’12Ïƒ2(yâˆ’wâŠ¤xâˆ’b)2).P(yâˆ£x)=12Ï€Ïƒ2expâ¡(âˆ’12Ïƒ2(yâˆ’wâŠ¤xâˆ’b)2).\nç°åœ¨ï¼Œæ ¹æ®æå¤§ä¼¼ç„¶ä¼°è®¡æ³•ï¼Œå‚æ•° ww å’Œ bb çš„æœ€ä¼˜å€¼æ˜¯ä½¿æ•´ä¸ªæ•°æ®é›†çš„ä¼¼ç„¶æœ€å¤§çš„å€¼ï¼š\n(3.1.14)\nP(yâˆ£X)=âˆi=1np(y(i)|x(i)).P(yâˆ£X)=âˆi=1np(y(i)|x(i)).\næ ¹æ®æå¤§ä¼¼ç„¶ä¼°è®¡æ³•é€‰æ‹©çš„ä¼°è®¡é‡ç§°ä¸ºæå¤§ä¼¼ç„¶ä¼°è®¡é‡ã€‚ è™½ç„¶ä½¿è®¸å¤šæŒ‡æ•°å‡½æ•°çš„ä¹˜ç§¯æœ€å¤§åŒ–çœ‹èµ·æ¥å¾ˆå›°éš¾ï¼Œ ä½†æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨ä¸æ”¹å˜ç›®æ ‡çš„å‰æä¸‹ï¼Œé€šè¿‡æœ€å¤§åŒ–ä¼¼ç„¶å¯¹æ•°æ¥ç®€åŒ–ã€‚ ç”±äºå†å²åŸå› ï¼Œä¼˜åŒ–é€šå¸¸æ˜¯è¯´æœ€å°åŒ–è€Œä¸æ˜¯æœ€å¤§åŒ–ã€‚ æˆ‘ä»¬å¯ä»¥æ”¹ä¸ºæœ€å°åŒ–è´Ÿå¯¹æ•°ä¼¼ç„¶âˆ’logP(yâˆ£X)âˆ’logâ¡P(yâˆ£X)ã€‚ ç”±æ­¤å¯ä»¥å¾—åˆ°çš„æ•°å­¦å…¬å¼æ˜¯ï¼š\n(3.1.15)\nâˆ’logP(yâˆ£X)=âˆ‘i=1n12log(2Ï€Ïƒ2)+12Ïƒ2(y(i)âˆ’wâŠ¤x(i)âˆ’b)2.âˆ’logâ¡P(yâˆ£X)=âˆ‘i=1n12logâ¡(2Ï€Ïƒ2)+12Ïƒ2(y(i)âˆ’wâŠ¤x(i)âˆ’b)2.\nç°åœ¨æˆ‘ä»¬åªéœ€è¦å‡è®¾ÏƒÏƒæ˜¯æŸä¸ªå›ºå®šå¸¸æ•°å°±å¯ä»¥å¿½ç•¥ç¬¬ä¸€é¡¹ï¼Œ å› ä¸ºç¬¬ä¸€é¡¹ä¸ä¾èµ–äº ww å’Œ bbã€‚ ç°åœ¨ç¬¬äºŒé¡¹é™¤äº†å¸¸æ•° 1Ïƒ21Ïƒ2 å¤–ï¼Œå…¶ä½™éƒ¨åˆ†å’Œå‰é¢ä»‹ç»çš„å‡æ–¹è¯¯å·®æ˜¯ä¸€æ ·çš„ã€‚ å¹¸è¿çš„æ˜¯ï¼Œä¸Šé¢å¼å­çš„è§£å¹¶ä¸ä¾èµ–äºÏƒÏƒã€‚ å› æ­¤ï¼Œåœ¨é«˜æ–¯å™ªå£°çš„å‡è®¾ä¸‹ï¼Œæœ€å°åŒ–å‡æ–¹è¯¯å·®ç­‰ä»·äºå¯¹çº¿æ€§æ¨¡å‹çš„æå¤§ä¼¼ç„¶ä¼°è®¡ã€‚\n"},{"title":"web crawler","url":"/2022/04/30/webcrawler/","content":""},{"title":"ä½™å¼¦ç›¸ä¼¼åº¦","url":"/2022/05/28/%E4%BD%99%E5%BC%A6%E7%9B%B8%E4%BC%BC%E5%BA%A6/","content":"\nä½™å¼¦è·ç¦»ï¼Œä¹Ÿç§°ä¸ºä½™å¼¦ç›¸ä¼¼åº¦ï¼Œæ˜¯ç”¨å‘é‡ç©ºé—´ä¸­ä¸¤ä¸ªå‘é‡å¤¹è§’çš„ä½™å¼¦å€¼ä½œä¸ºè¡¡é‡ä¸¤ä¸ªä¸ªä½“é—´å·®å¼‚çš„å¤§å°çš„åº¦é‡ã€‚\nä½™å¼¦å€¼è¶Šæ¥è¿‘1ï¼Œå°±è¡¨æ˜å¤¹è§’è¶Šæ¥è¿‘0åº¦ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªå‘é‡è¶Šç›¸ä¼¼ï¼Œè¿™å°±å«â€ä½™å¼¦ç›¸ä¼¼æ€§â€ã€‚\n\n\näºŒç»´\n\næ‹“å±•è‡³nç»´\n\n"},{"title":"åå·ç§¯","url":"/2022/05/07/%E5%8F%8D%E5%8D%B7%E7%A7%AF/","content":""},{"title":"å¾ªç¯ç¥ç»ç½‘ç»œ","url":"/2022/05/31/%E5%BE%AA%E7%8E%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/","content":"å¾ªç¯ç¥ç»ç½‘ç»œ(RNN)\nRNNæ˜¯é’ˆå¯¹åºåˆ—æ•°æ®è€Œç”Ÿæˆçš„ç¥ç»ç½‘ç»œç»“æ„,æ ¸å¿ƒåœ¨äºå¾ªç¯ä½¿ç”¨ç½‘ç»œå±‚ å‚æ•°.é¿å…æ—¶é—´æ­¥å¢å¤§å¸¦æ¥çš„å‚æ•°æ¿€å¢,å¹¶å¼•å…¥éšè—çŠ¶æ€(Hidden State)ç”¨äºè®°å½•å†å²ä¿¡æ¯,æœ‰æ•ˆçš„å¤„ç†æ•°æ®çš„å‰åå…³è”æ€§\n\nå¾ªç¯ç¥ç»ç½‘ç»œç¤ºæ„å›¾\n\néšè—çŠ¶æ€(Hidden State)ç”¨äºè®°å½•å†å²ä¿¡æ¯,æœ‰æ•ˆå¤„ç†æ•°æ®çš„å‰åå…³è”æ€§,æ¿€æ´»å‡½æ•°é‡‡ç”¨Tanh,å°†è¾“å‡ºå€¼åŸŸé™åˆ¶åœ¨(-1,1),é˜²æ­¢æ•°å€¼å‘ˆæŒ‡æ•°çº§å˜åŒ–\n\n\nRNNç‰¹æ€§:\n\nå¾ªç¯ç¥ç»ç½‘ç»œçš„éšè—çŠ¶æ€å¯ä»¥æ•æ‰æˆªè‡³å½“å‰æ—¶é—´æ­¥çš„åºåˆ—çš„å†å²ä¿¡æ¯\nå¾ªç¯ç¥ç»ç½‘ç»œæ¨¡å‹å‚æ•°çš„æ•°é‡ä¸éšæ—¶é—´æ­¥çš„å¢åŠ è€Œå¢é•¿\n\nRNNçš„é€šè¿‡æ—¶é—´åå‘ä¼ æ’­(ç©¿è¶Šæ—¶é—´åå‘ä¼ æ’­) (backpropagation through time) \n\n\né—¨æ§å¾ªç¯å•å…ƒ(GRU)\nå¼•å…¥é—¨æ¦‚å¿µ,æ¥æ§åˆ¶ä¿¡æ¯æµåŠ¨,ä½¿æ¨¡å‹æ›´å¥½çš„è®°ä½é•¿è¿œæ—¶æœŸçš„ä¿¡æ¯,å¹¶ç¼“è§£æ¢¯åº¦æ¶ˆå¤±é—®é¢˜\n\né‡ç½®é—¨ : å“ªäº›ä¿¡æ¯éœ€è¦é—å¿˜\næ›´æ–°é—¨ : å“ªäº›ä¿¡æ¯éœ€è¦æ³¨æ„\n\næ¿€æ´»å‡½æ•° : sigmoid  å€¼åŸŸä¸º(0,1),0è¡¨ç¤ºé—å¿˜,1è¡¨ç¤ºä¿ç•™\nGRUå€™é€‰éšè—çŠ¶æ€\nè¾“å…¥ä¸ä¸Šä¸€æ—¶é—´æ­¥éšè—çŠ¶æ€å…±åŒè®¡ç®—å¾—åˆ°å€™é€‰éšè—çŠ¶æ€,ç”¨äºéšè—çŠ¶æ€çš„è®¡ç®—.é€šè¿‡é‡ç½®é—¨,å¯¹ä¸Šä¸€æ—¶é—´éšè—çŠ¶æ€è¿›è¡Œé€‰æ‹©æ€§é—å¿˜,å¯¹å†å²ä¿¡æ¯æ›´å¥½çš„é€‰æ‹©.\n\nGRUéšè—çŠ¶æ€\n\n GRUçš„éšè—è£…æ€ç”±å€™é€‰éšè—çŠ¶æ€åŠä¸Šä¸€æ—¶é—´æ­¥éšè—çŠ¶æ€ç»„åˆå¾—æ¥\n\n\n\nGRUç‰¹ç‚¹:\n\né—¨æœºåˆ¶é‡‡ç”¨Sigmoidæ¿€æ´»å‡½æ•°,ä½¿é—¨å€¼ä¸º(0,1),0è¡¨ç¤ºé—å¿˜,1è¡¨ç¤ºä¿ç•™\nè‹¥æ›´æ–°é—¨è‡ªç¬¬ä¸€ä¸ªæ—¶é—´æ­¥åˆ°t-1æ—¶é—´æ­¥çš„è¿‡ç¨‹ä¸­ä¸€ç›´ä¿æŒä¸º1,åˆ™ä¿¡æ¯å¯æœ‰æ•ˆä¼ é€’åˆ°å½“å‰æ—¶é—´æ­¥.\n\né•¿çŸ­æœŸè®°å¿†ç½‘ç»œ(LSTM)\nå¼•å…¥ä¸‰ä¸ªé—¨å’Œè®°å¿†ç»†èƒ,æ§åˆ¶ä¿¡æ¯ä¼ é€’\n\né—å¿˜é—¨ : å“ªäº›ä¿¡æ¯éœ€è¦é—å¿˜\nè¾“å…¥é—¨ : å“ªäº›ä¿¡æ¯éœ€è¦æµå…¥å½“å‰è®°å¿†ç»†èƒ\nè¾“å‡ºé—¨ : å“ªäº›è®°å¿†ä¿¡æ¯æµå…¥éšè—çŠ¶æ€\nè®°å¿†ç»†èƒ : ç‰¹æ®Šçš„éšè—çŠ¶æ€, è®°å¿†å†å²ä¿¡æ¯\nå€™é€‰è®°å¿†ç»†èƒ\n\nè®°å¿†ç»†èƒä¸éšè—çŠ¶æ€\nè®°å¿†ç»†èƒå¯ä»¥ç†è§£ä¸ºç‰¹æ®Šçš„éšè—çŠ¶æ€,ç”±å€™é€‰è®°å¿†ç»†èƒåŠä¸Šä¸€æ—¶é—´æ­¥è®°å¿†ç»†èƒç»„åˆçš„æ¥\n\nç”±è¾“å‡ºé—¨æ§åˆ¶è®°å¿†ç»†èƒä¿¡æ¯æµå…¥éšè—çŠ¶æ€\n\n"},{"title":"é—µå¯å¤«æ–¯åŸºè·ç¦»ï¼ˆMinkowskiè·ç¦»ï¼‰","url":"/2022/05/28/%E9%97%B5%E5%8F%AF%E5%A4%AB%E6%96%AF%E5%9F%BA%E8%B7%9D%E7%A6%BB/","content":"\nä¸€èˆ¬è€Œè¨€ï¼Œå®šä¹‰ä¸€ä¸ªè·ç¦»å‡½æ•° d(x,y), éœ€è¦æ»¡è¶³ä¸‹é¢å‡ ä¸ªå‡†åˆ™ï¼š1 .d(x,x) = 0 åˆ°è‡ªå·±çš„è·ç¦»ä¸º02 .d(x,y) &gt;= 0 è·ç¦»éè´Ÿ \n\nd(x,y) = d(y,x) å¯¹ç§°æ€§: å¦‚æœ A åˆ° B è·ç¦»æ˜¯ aï¼Œé‚£ä¹ˆ B åˆ° A çš„è·ç¦»ä¹Ÿåº”è¯¥æ˜¯ a \nd(x,k) d(k,y) &gt;= d(x,y) ä¸‰è§’å½¢æ³•åˆ™: (ä¸¤è¾¹ä¹‹å’Œå¤§äºç¬¬ä¸‰è¾¹)\n\n\né—µå¯å¤«æ–¯åŸºè·ç¦»å¯ä»¥å®šä¹‰ä¸ºï¼š\n\nå½“pä¸º1æ—¶ä¸ºæ›¼å“ˆé¡¿è·ç¦»ï¼Œ å³ä¸€é˜¶èŒƒå¼ï¼Œpä¸º2æ—¶ä¸ºæ¬§å‡ é‡Œå¾—è·ç¦»ï¼Œ å³äºŒé˜¶èŒƒå¼ã€‚\nå½“ p è¶‹è¿‘äºæ— ç©·å¤§æ—¶ï¼Œ è½¬åŒ–ä¸ºåˆ‡æ¯”é›ªå¤«è·ç¦»ï¼ˆChebyshev distanceï¼‰(Lâˆåº¦é‡) ã€‚\n\n\n"}]